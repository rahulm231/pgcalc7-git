function RoleAccessGranted_Click(b,c){if(c==null){c=false;}var a=b.getAttribute("data-targetControlID");if(a==null){a=b.parentNode.getAttribute("data-targetControlID");}if(a!=null){var d=$get(a);if(d!=null){d.style.display=b.checked?"block":"none";if(!c&&!b.checked){d.Clear();}}}}var PermissionEnum_FullControl=1;var PermissionEnum_Read=2;var PermissionEnum_Add=4;var PermissionEnum_Edit=8;var PermissionEnum_Delete=16;function FullControl_Click(b){if(b.checked){b.OtherCheckBoxesSpan.setAttribute("disabled","disabled");}else{b.OtherCheckBoxesSpan.removeAttribute("disabled");}var a=b.OtherCheckBoxesSpan.getElementsByTagName("input");for(i=0;i<a.length;i++){if(a[i].type=="checkbox"){if(b.checked){a[i].nextSibling.style.color="#a6a0a0";a[i].disabled=true;a[i].setAttribute("disabled","disabled");a[i].checked=false;}else{a[i].nextSibling.style.color="";a[i].disabled=false;a[i].removeAttribute("disabled");}}}}function PermissionControlClear(a){var b=a.FullControlCheckBox.checked;a.FullControlCheckBox.checked=false;a.ReadCheckBox.checked=false;a.AddCheckBox.checked=false;a.EditCheckBox.checked=false;a.DeleteCheckBox.checked=false;if(b){a.FullControlCheckBox.OtherCheckBoxesSpan.removeAttribute("disabled");}}function InitializePermissionControls(){for(var b=0;b<PermissionControls.length;b++){var c=$get(PermissionControls[b]);if(c!=null){var d=$get(c.id+"_PermissionEditPanel");var a=d.getElementsByTagName("input");c.FullControlCheckBox=a[0];if(d.firstElementChild){a[0].OtherCheckBoxesSpan=d.firstElementChild.lastElementChild;}else{a[0].OtherCheckBoxesSpan=d.firstChild.lastChild;}if(c.FullControlCheckBox.checked){a[0].OtherCheckBoxesSpan.setAttribute("disabled","disabled");}else{a[0].OtherCheckBoxesSpan.removeAttribute("disabled");}c.ReadCheckBox=a[1];c.AddCheckBox=a[2];c.EditCheckBox=a[3];c.DeleteCheckBox=a[4];c.Clear=function(){PermissionControlClear(this);};c.GetPermission=function(){var e=0;if(this.FullControlCheckBox.checked){e=e|PermissionEnum_FullControl;}if(this.ReadCheckBox.checked){e=e|PermissionEnum_Read;
}if(this.AddCheckBox.checked){e=e|PermissionEnum_Add;}if(this.EditCheckBox.checked){e=e|PermissionEnum_Edit;}if(this.DeleteCheckBox.checked){e=e|PermissionEnum_Delete;}return e;};c.setAttribute("Permission",c.GetPermission());}}}var buttonClientID;function AccessSettings_AddButton_Click(a,b){buttonClientID=a;OpenFinderAdder(AddDialogCompleted,false,null,b,null,null);return CancelEvent();}function AddDialogCompleted(a){if(!a.result){return;}InitiateControlEventWithArgument(buttonClientID,a.result);}if(typeof(Sys)!=="undefined"){Sys.Application.notifyScriptLoaded();}/* appendAround markup pattern. [c]2012, @scottjehl, Filament Group, Inc. MIT/GPL 
how-to:
	1. Insert potential element containers throughout the DOM
	2. give each container a data-set attribute with a value that matches all other containers' values
	3. Place your appendAround content in one of the potential containers
	4. Call appendAround() on that element when the DOM is ready
*/
(function(a){a.fn.appendAround=function(){return this.each(function(){var c=a(this),d="data-set",b=c.parent(),h=b[0],g=b.attr(d),e=a("["+d+"='"+g+"']");function f(j){return a(j).css("display")==="none";}function i(){if(f(h)){var j=0;e.each(function(){if(!f(this)&&!j){c.appendTo(this);j++;h=this;}});}}i();a(window).bind("resize",i);});};}(jQuery));function AsiWebPartZone_OpenZoneCatalog(a){ShowDialog(gWebRoot+"/iMIS/ContentManagement/WebPartCatalog.aspx",a,800,500,"Content Gallery","","E",AsiWebPartZone_AddPartToZone,null,false,true,null,null);}function AsiWebPartZone_AddPartToZone(dialogWin){try{if(dialogWin!=null&&dialogWin.result!=null&&dialogWin.Argument!=null){eval(dialogWin.Argument.replace("[[WEBPART]]",dialogWin.result));}}catch(e){return;}}function AsiWebPartZone_AttatchDragNDropEvents(a){if(typeof jQuery!="undefined"){jQuery(document).ready(function(){var b=jQuery(".draggable");b.closest("[id$='ContentPanel']").css("position","relative");b.draggable({opacity:0.6,revert:"invalid",scroll:true,cursor:"move",appendTo:"parent",helper:function(){return jQuery(this).clone().width(jQuery(this).width());},start:function(){jQuery(this).toggle();},stop:function(){jQuery(this).toggle();}});jQuery(".droppable").droppable({tolerance:"pointer",activate:function(e,c){jQuery(".droppable").addClass("ui-state-active");var f=c.draggable.parents("tr").eq(0);var d=f.prev().find(".droppable");var g=f.next().find(".droppable");d.droppable("disable");g.droppable("disable");d.removeClass("ui-state-active");g.removeClass("ui-state-active");},drop:function(f,d){var c=a+jQuery(this).parents(".WebPartZoneDesignTime").attr("ID");var g=jQuery(this).attr("data-wpindex");var e=d.draggable.eq(0).attr("data-webPartID");__doPostBack(c,"Drag:"+e+":"+g);},deactivate:function(d,c){jQuery(".droppable").droppable("enable");jQuery(".droppable").removeClass("ui-state-active");},over:function(d,c){jQuery(this).removeClass("ui-state-active");jQuery(this).addClass("ui-state-hover");},out:function(d,c){jQuery(this).removeClass("ui-state-hover");jQuery(this).addClass("ui-state-active");}});});}}function BusinessCalendar_SelectRunDate2(a){a.value="@date";a.focus();}function BusinessCalendar_OnCalendarShown(d,h){var e=d._textbox._element;var b=findAbsoluteCoords(e);var a=b.absoluteTop;if(typeof e.getBoundingClientRect!="undefined"){a=e.getBoundingClientRect(e).top;}else{if(typeof doc.getBoxObjectFor!="undefined"){a=doc.getBoxObjectFor(e).screenY;}}var g;var c;if(typeof window.innerWidth!="undefined"){g=window.innerWidth,c=window.innerHeight;}else{if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0){g=document.documentElement.clientWidth,c=document.documentElement.clientHeight;}else{g=document.getElementsByTagName("body")[0].clientWidth,c=document.getElementsByTagName("body")[0].clientHeight;}}var f=$common.getLocation(e);if(a+e.clientHeight+d._popupDiv.clientHeight>c){d._popupBehavior._visible=false;d._popupBehavior.show();}else{d._popupBehavior._visible=false;d._popupBehavior.show();}}if(typeof(Sys)!=="undefined"){Sys.Application.notifyScriptLoaded();}Date.prototype.convertPartialDate=function(i){var j;j=i.split(" ");this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);if(j.length>1){var h=j[1].toUpperCase();if(h.indexOf("PM")>-1||h.indexOf("P.M.")>-1){j[2]="PM";}h=h.replace(/AM|PM|A\.M\.|P\.M\./gi,"");h=h.replace(/\./gi,":");var b=h.split(":");if(b.length>=1){if(j.length>2&&j[2].toUpperCase()=="PM"){this.setHours(b[0]%12+12);}else{this.setHours(b[0]%12);}if(b.length>=2){this.setMinutes(b[1]);if(b.length>=3){this.setSeconds(b[2]);}}}}j[0]=j[0].replace(/-/gi,"/");j[0]=j[0].replace(/\\/gi,"/");j[0]=j[0].replace(/\./gi,"/");j[0]=j[0].replace(/\|/gi,"/");j[0]=j[0].replace(/,/gi,"/");j[0]=j[0].replace(/\+/gi,"/");var a=j[0].split("/");if(a.length==1&&parseInt(a[0],10)<32){this.setDate(a[0]);return;}var d=GetCurrentDateFormat();if(a.length==1){switch(d){case"mdy":case"dmy":if(a[0].length==8){a=new Array(a[0].substring(0,2),a[0].substring(2,4),a[0].substring(4,8));
}else{if(a[0].length==6){a=new Array(a[0].substring(0,2),a[0].substring(2,4),a[0].substring(4,6));}else{a=new Array(a[0].substring(0,2),a[0].substring(2,4));}}break;case"ymd":case"ydm":if(a[0].length==8){a=new Array(a[0].substring(0,4),a[0].substring(4,6),a[0].substring(6,8));}else{if(a[0].length==6){a=new Array(a[0].substring(0,2),a[0].substring(2,4),a[0].substring(4,6));}else{a=new Array(a[0].substring(0,2),a[0].substring(2,4));}}break;}}var c=0;var f=-1;var g=-1;switch(d){case"mdy":if(a.length>=2){c=1;f=0;if(a.length>=3){g=2;}}break;case"dmy":if(a.length>=2){c=0;f=1;if(a.length>=3){g=2;}}break;case"ymd":if(a.length>=3){c=2;f=1;g=0;}else{if(a.length>=2){c=1;f=0;}}break;case"ydm":if(a.length>=3){c=1;f=2;g=0;}else{if(a.length>=2){c=0;f=1;}}break;}if(g>-1){var e=parseInt(a[g],10);if(e<100){if(e>30){e+=1900;}else{e+=2000;}}if(e<1753||e>9999){throw new object();}this.setFullYear(e);}if(f>-1){this.setDate(1);this.setMonth(parseInt(a[f],10)-1);}this.setDate(parseInt(a[c],10));if((g>-1&&e!=this.getFullYear())||(f>-1&&parseInt(a[f],10)-1!=this.getMonth())||parseInt(a[c],10)!=this.getDate()){throw new object();}};function GetCurrentDateFormat(){var c=new Date(1999,9,8);var e=c.localeFormat("d");var b=e.indexOf("99");var d=e.indexOf("10");var h=e.indexOf("8");var f=new Array();f[b]=1999;f[d]=10;f[h]=8;var a="";for(var g=0;g<f.length;g++){switch(parseInt(f[g],10)){case 1999:a+="y";break;case 10:a+="m";break;case 8:a+="d";break;}}return a;}function ConvertPartialDate(c){var d=new Date();var a=c.value;if(a.length==0){return;}if(a.substring(0,1)=="@"){return;}try{d.convertPartialDate(a);}catch(b){alert(c.value+" is not a valid date.");return;}if(isNaN(d)){return;}try{if(d.getHours()==0&&d.getMinutes()==0&&d.getSeconds()==0){c.value=d.localeFormat("d");}else{c.value=d.localeFormat("d")+" "+d.localeFormat("t");}}catch(b){c.value=d.toDateString();}jQuery(c).trigger("change");}function BusinessCalendar2_RadDatePicker_DateError(a,b){alert(b.get_inputText()+" is not a valid date.");a.set_selectedDate("");b.set_cancel(true);}function BusinessCalendar2_RadDateTimePicker_DateTimeError(a,b){alert(b.get_inputText()+" is not a valid datetime.");a.set_selectedDate("");b.set_cancel(true);}function BusinessCalendar2_RadTimePicker_TimeError(a,b){alert(b.get_inputText()+" is not a valid time.");a.set_selectedDate("");b.set_cancel(true);}function BusinessCalendar2_VerifyDatePickerValue(c,b){try{var d=$find(c.controltovalidate);if(d!=null&&d.get_textBox()!=null){if(d.get_selectedDate()==null&&d.get_textBox().value!=""){b.IsValid=false;}}}catch(a){alert(a);}}function Asi_Web_BusinessDataGrid2(c){var d=this;var e=null;if(c.GridClientId===undefined){c.GridClientId=null;}if(c.IsMultiSelect!==true){c.IsMultiSelect=false;}if(c.TrackItemSelectionAcrossPostbacks!==true){c.TrackItemSelectionAcrossPostbacks=false;}if(c.IsSelectedByDefault!==true){c.IsSelectedByDefault=false;}if(c.DeltaKeys===undefined){c.DeltaKeys=null;}this.OnGridCreated=function(l,m){e=l;if(c.IsMultiSelect===true&&c.TrackItemSelectionAcrossPostbacks){i();}};this.OnRowCreated=function(l,m){};this.OnRowSelected=function(l,m){if(c.IsMultiSelect===true&&c.TrackItemSelectionAcrossPostbacks){h(m.get_gridDataItem(),m.get_tableView());}};this.OnRowDeselected=function(l,m){if(c.IsMultiSelect===true&&c.TrackItemSelectionAcrossPostbacks){h(m.get_gridDataItem(),m.get_tableView());}};function i(){jQuery("#"+k()).remove();jQuery("#"+c.GridClientId).append('<input type="hidden" id="'+k()+'" name="'+k()+'" />');if(typeof c.DeltaKeys!==undefined){a(c.DeltaKeys);}}function h(l,o){if(l===undefined||l==null){return;}if(o===undefined||o==null){return;}var m=f(l,o);if(m!=null){var n=l.get_selected();if(c.IsSelectedByDefault===true){g(!n,m);}else{g(n,m);}}}function f(l,o){if(l===undefined||l==null){return null;}if(o===undefined||o==null){return null;}var p=o.get_clientDataKeyNames();if(p!=null&&p.length>0){var m="";for(var n=0;n<p.length;n++){m+="{"+p[n]+":"+l.getDataKeyValue(p[n])+"}";}return m;}return null;}function g(n,p){var o=b();if(o==null){return;}var m=(o+"").length==0?new Array():o.split(",");var l=jQuery.inArray(p,m);if(l>=0&&!n){m.splice(l,1);}else{if(l<0&&n){m.push(p);}}a(m.toString());}function b(){var l=j();if(l!=null){return jQuery(l).val();}return null;}function a(m){var l=j();if(l!=null){jQuery(l).val(m);}}function k(){return c.GridClientId+"_HiddenDeltaSelectedKeys";}function j(){var l=jQuery("#"+k());if(l.length==1){return l[0];}return null;}}function BusinessDocumentBrowserProperties(){this.TypeFilter=null;this.DocumentHierarchyKey=null;this.DocumentPath=null;this.RootFolder=null;this.AllowUpwardNavigation=true;this.ShowAddress=true;this.AutoPostback=false;this.ValueControlID=null;}function BusinessDocumentBrowserControl_Select(a){var b="&ShowRecycleBin=false";if(a.TypeFilter){b+="&TypeFilter="+a.TypeFilter;}if(a.DocumentHierarchyKey){b+="&DocumentHierarchyKey="+a.DocumentHierarchyKey;}if(a.DocumentPath){b+="&DocumentPath="+a.DocumentPath;}if(a.RootFolder){b+="&iRootFolder="+a.RootFolder;b+="&AutoSelectFirstDocument=true";if(!a.DocumentPath){b+="&DocumentPath="+a.RootFolder;}}if(!a.AllowUpwardNavigation){b+="&AllowUpwardNavigation="+a.AllowUpwardNavigation;}if(!a.ShowAddress){b+="&ShowAddress="+a.ShowAddress;}OpenObjectBrowser(b,function(c){BusinessDocumentBrowserControl_SelectCallBack(c,a);},true,false);return CancelEvent();}function BusinessDocumentBrowserControl_SelectCallBack(d,a){var b=$(a.ValueControlID);if(b!=null){var e=d.result;if(e==null||e.length==0){return;}b.value=d.SelectedDocumentPath;var c=$(a.DocumentVersionKeyValueControlID);if(c!=null){c.value=d.SelectedDocumentVersionKey;}b.focus();if(a.AutoPostBack){submitForm(b);}}}function BusinessFileUploadProperties(){this.CallBackValueControl=null;this.CallBackDisplayControl=null;this.AllowMultiple=false;}var businessFileUploadProperties=new BusinessFileUploadProperties();function BusinessFileUpload_Upload(c,f,b,h,i,d,a,e,g){businessFileUploadProperties.CallBackValueControl=c;if(f!=null){businessFileUploadProperties.CallBackDisplayControl=f;}else{businessFileUploadProperties.CallBackDisplayControl=b;}businessFileUploadProperties.AllowMultiple=!d;OpenFileUpload(BusinessFinderControl_UploadCallback,a,e,g,h,i);return CancelEvent();}function BusinessFinderControl_UploadCallback(c){if(businessFileUploadProperties.CallBackValueControl!=null){if(c.result==null||c.result.length==0){return;}businessFileUploadProperties.CallBackValueControl.value=c.result;if(document.all){businessFileUploadProperties.CallBackDisplayControl.innerText=c.Filename;}else{businessFileUploadProperties.CallBackDisplayControl.textContent=c.Filename;}var b=getNextObject(businessFileUploadProperties.CallBackValueControl);b.focus();var a=getNextObject(b);a.style.display="inline";}businessFileUploadProperties.CallBackValueControl=null;businessFileUploadProperties.CallBackDisplayControl=null;businessFileUploadProperties.AllowMultiple=false;}function BusinessFinderControl_Delete(c,e,a,f,g){c.value="";if(e!=null){e.innerHTML=g;}if(a!=null){a.innerHTML=g;a.href=null;a.style.textDecoration="none";a.style.color="#000";}if(f!=null){f.style.display="none";}var d=getNextObject(c);d.focus();var b=getNextObject(d);b.style.display="none";return CancelEvent();}function BusinessFinderControlProperties(){this.CallBackValueControl=null;this.CallBackDisplayControl=null;this.Grid=null;this.SelectLink=null;this.AllowMultiple=false;this.CallBackRemoveControl=null;}var businessFinderControlProperties=new BusinessFinderControlProperties();function BusinessFinderControl_Select(g,b,c,a,h,d,k,j,m,e,f,i,l){businessFinderControlProperties.CallBackValueControl=g;businessFinderControlProperties.CallBackDisplayControl=b;businessFinderControlProperties.CallBackRemoveControl=l;businessFinderControlProperties.Grid=c;businessFinderControlProperties.SelectLink=a;businessFinderControlProperties.AllowMultiple=!h;OpenFinderAdderWithQueryFilter(BusinessFinderControl_SelectCallBack,h,d,k,j,m,e,f,null,null,i);return CancelEvent();}function BusinessFinderControl_SelectCallBack(d){var n=d.result;if(businessFinderControlProperties.CallBackValueControl!=null){if(n==null||n.length==0){return;}if(!businessFinderControlProperties.AllowMultiple){businessFinderControlProperties.CallBackValueControl.value=n[0];if(document.all){businessFinderControlProperties.CallBackDisplayControl.innerText=d.SelectedDisplayValues[0];}else{businessFinderControlProperties.CallBackDisplayControl.textContent=d.SelectedDisplayValues[0];}if(businessFinderControlProperties.CallBackRemoveControl){businessFinderControlProperties.CallBackRemoveControl.style.display="block";}try{InitiateControlEventWithArgument(businessFinderControlProperties.CallBackValueControl.id,businessFinderControlProperties.CallBackValueControl.value,"onchange");}catch(g){}businessFinderControlProperties.SelectLink.focus();}else{var l=businessFinderControlProperties.CallBackValueControl.value.split(",");var m="";for(var a=0;a<n.length;a++){var k=false;for(var b=0;b<l.length;b++){if(l[b]==n[a]){k=true;break;}}if(!k){m+=","+n[a];if(businessFinderControlProperties.CallBackDisplayControl!=null&&d.SelectedDisplayValues!=null){var c=businessFinderControlProperties.Grid.rows[businessFinderControlProperties.Grid.rows.length-1];
var f=businessFinderControlProperties.Grid.insertRow(businessFinderControlProperties.Grid.rows.length-1);for(var b=0;b<c.cells.length;b++){var e=f.insertCell();e.innerHTML=c.cells[b].innerHTML;var h=c.cells[b].style.cssText;e.setAttribute("style",h);e.style.cssText=h;}if(document.all){f.cells[1].innerText=d.SelectedDisplayValues[a];}else{f.cells[1].textContent=d.SelectedDisplayValues[a];}}try{InitiateControlEventWithArgument(businessFinderControlProperties.CallBackValueControl.id,businessFinderControlProperties.CallBackValueControl.value,"onchange");}catch(g){}}}if(m.length>0){m=businessFinderControlProperties.CallBackValueControl.value+m;if(m.substr(0,1)==","){m=m.substr(1);}businessFinderControlProperties.CallBackValueControl.value=m;businessFinderControlProperties.Grid.style.display="block";businessFinderControlProperties.CallBackDisplayControl.style.display="none";}businessFinderControlProperties.SelectLink.focus();}}businessFinderControlProperties.CallBackValueControl=null;businessFinderControlProperties.CallBackDisplayControl=null;businessFinderControlProperties.CallBackRemoveControl=null;businessFinderControlProperties.Grid=null;businessFinderControlProperties.SelectLink=null;businessFinderControlProperties.AllowMultiple=false;}function BusinessFinderControl_Clear(b,c,a,d){b.value="";c.innerHTML=a;d.style.display="none";}function BusinessFinderControl_DeleteItem(d,b,j,c,h){var f=findAncestor(eventSource(),"tr");c=f.rowIndex;var e=d.value.split(",");e.splice(c,1);var g="";for(var a=0;a<e.length;a++){g+=","+e[a];}if(g.length>0){g=g.substr(1);}d.value=g;j.deleteRow(c);if(d.value.length==0){b.style.display="inline";j.style.display="none";}}function _DebugTrace(d){var e=$("TraceConsole");if(e!=null){var c=getParent(getParent(e));if(c.style.display=="none"){c.style.display="block";}Sys.Debug.trace(d);}}function _DebugTraceDump(c,e){var f=$("TraceConsole");if(f!=null){var d=getParent(getParent(f));if(d.style.display=="none"){d.style.display="block";}Sys.Debug.traceDump(c,e);}}function _DebugFail(c){Sys.Debug.fail(c);}function __Document_Head_Init(e,c,d){if(!__CookiesEnabled()){window.location.href=e;}if(c!=0){alert(c);}__CloseDisposableWindow();if(d){if(typeof jQuery=="undefined"){document.oncontextmenu=__DisableContextMenu;}else{if(browser.isIE&&browser.version==7){document.oncontextmenu=__DisableContextMenu;}}}}function __CloseDisposableWindow(){if(__GetCookieValue("Asi.Web.Browser.DisposableWindow.Loaded")=="true"){var c=window.open("","Asi_Web_Browser_DisposableWindow","width=1,height=1,top=9999,left=9999,resizable=no,scrollbars=no,location=no,directories=no,status=no,menubar=no,toolbar=no");c.close();document.cookie="Asi.Web.Browser.DisposableWindow.Loaded=false;path=/";}}function __CookiesEnabled(){if(__GetCookieValue("Asi.Web.Browser.CookiesEnabled")!="true"){document.cookie="Asi.Web.Browser.CookiesEnabled=true;path=/";if(__GetCookieValue("Asi.Web.Browser.CookiesEnabled")!="true"){return false;}}return true;}function __GetCookieValue(e){if(document.cookie!=null){var c=document.cookie.indexOf(e+"=");if(c<0){return null;}c+=e.length+1;var d=document.cookie.indexOf(";",c);if(d==-1){d=document.cookie.length;}return unescape(document.cookie.substring(c,d));}return null;}function __WindowOnLoad(){var d=gWindowOnLoad.length;for(var c=1;c<d;c++){if(gWindowOnLoad[c]&&gWindowOnLoad[c]!=__WindowOnLoad){gWindowOnLoad[c]();}}}function SetDocumentTitle(c){gDocumentTitle=c;}function CheckCommit(d){if(gPostBackFormObject!=null){if(__NeedCommit()){var c=d;if(c==null||c==""){c=gDefaultConfirmMessage;}return confirm(c);}}return true;}function __DisableContextMenu(d,c){var f=d?d.target.tagName:event.srcElement.tagName;
return(f&&(f.toUpperCase()=="INPUT"||f.toUpperCase()=="TEXTAREA"));}function CollapsedSimpleName(c){var e=" ";var f="_";if(c==null){return null;}c=c.replace(/^\s+|\s+$/g,"");if(c.length==0){return"";}var j="";var d=e;for(var h=0,g=c.length;h<g;h++){if(IsLetterOrDigit(c.charAt(h))||c.charAt(h)==f){if(IsLetterOrDigit(d)){j=j+c.charAt(h);}else{if(j.length==0&&IsDigit(c.charAt(h))){j=j+"N";}j=j+c.charAt(h).toUpperCase();}}d=c.charAt(h);}return j;}function IsLetterOrDigit(d){var c=/[a-zA-Z0-9]/;if(d.match(c)==null){return false;}return true;}function IsDigit(d){var c=/[0-9]/;if(d.match(c)==null){return false;}return true;}function IsEmail(d){var c=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i;if(d.match(c)==null){return false;}return true;}function addLoadEvent(c){if(c){var d=window.onload;if(typeof window.onload!="function"){window.onload=c;}else{window.onload=function(){if(typeof d=="function"){d();}c();};}}}function addAjaxLoadEvent(c){function d(){c();Sys.Application.remove_load(d);}Sys.Application.add_load(d);}function addResizeEvent(d,c){if(c==null){c=window;}$addHandler(c,"resize",d);}var resizeFunctionNames=new Array();function addContentResizeEvent(c){resizeFunctionNames.push(c);}function contentResized(contentWidth,contentHeight){for(var i=0;i<resizeFunctionNames.length;i++){var evalText=resizeFunctionNames[i]+"("+contentWidth+","+contentHeight+")";eval(evalText);}}function getNextObject(c){do{c=c.nextSibling;}while(c&&c.nodeType!=1);return c;}function getPreviousObject(c){do{c=c.previousSibling;}while(c&&c.nodeType!=1);return c;}function cancelSubmit(){return CancelEvent();}function CancelEvent(c){if(!c){c=window.event;}if(c!=null){c.returnValue=false;}return false;}function cancelEvent(){return CancelEvent();}function CancelEventPropagation(c){if(!c){c=window.event;}c.cancelBubble=true;if(c.stopPropagation){c.stopPropagation();}}function eventSource(c){if(window.event){return window.event.srcElement;}return c.target;}function KeyStroke(c){if(window.event){return c.keyCode;
}else{return c.which;}}function ExtractNumber(d){var c=parseInt(d);return c==null||isNaN(c)?0:c;}function $(c){return document.getElementById(c);}function submitForm(c){if(c&&c!=null){form=findAncestor(c,"FORM");}else{form=window.template;}if(form!=null){form.submit();}}function getParent(c){return c.parentNode||c.parentElement;}if(!window.Node){var Node={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};}function findAncestor(c,d){oParent=getParent(c);while(oParent!=null){if(oParent.tagName.toLowerCase()==d.toLowerCase()){return oParent;}oParent=getParent(oParent);}return null;}function trim(c,d){return ltrim(rtrim(c,d),d);}function ltrim(c,d){d=d||"\\s";return c.replace(new RegExp("^["+d+"]+","g"),"");}function rtrim(c,d){d=d||"\\s";return c.replace(new RegExp("["+d+"]+$","g"),"");}function livePageHeight(){if(window.innerHeight&&window.scrollMaxY&&BrowserDetect.version<3){return window.innerHeight+window.scrollMaxY;}else{return document.body.offsetHeight+document.body.offsetTop;}return null;}function livePageWidth(){if(window.innerHeight&&window.scrollMaxY){return window.innerWidth+window.scrollMaxX;}else{return document.body.offsetWidth+document.body.offsetLeft;}return null;}function findAbsoluteCoords(e){var f=new Object();f.left=e.offsetLeft;f.top=e.offsetTop;f.width=e.clientWidth;f.height=e.clientHeight;f.absoluteLeft=0;f.absoluteTop=0;var d=e;while(d!=null){var c=d.tagName.toUpperCase();if(c=="BODY"||c=="FORM"||c=="HTML"){break;}f.absoluteLeft=f.absoluteLeft+d.offsetLeft;f.absoluteTop=f.absoluteTop+d.offsetTop;d=d.offsetParent;if(d!=null&&(d.style.position=="absolute"||d.style.position=="relative")){break;}}if(f.width==0){f.width=livePageWidth()-f.absoluteLeft;}if(f.height==0){f.height=livePageHeight()-f.absoluteTop;}return f;}function GetURLParameters(){var c=window.document.URL.toString();
if(c.indexOf("?")>0){var d=c.split("?");var e=d[1].split("&");return e;}return null;}function FindURLParameter(c){c=c.toUpperCase();var d=GetURLParameters();if(d!=null){return FindParameterInArray(c,d);}return null;}function FindParameterInArray(c,d){c=c.toUpperCase();for(i=0;i<d.length;i++){var e=d[i].split("=");if(e[0].toUpperCase()==c){return e[1];}}return null;}function findPos(d){var c=curtop=0;if(d.offsetParent){do{c+=d.offsetLeft;curtop+=d.offsetTop;}while(d=d.offsetParent);}return[c,curtop];}function Cover(s,h,c,r,p){var q=findPos(s);h.style.position="absolute";var n=q[1];if(p!=null&&!isNaN(p)){n=n+p;}var o=q[0];if(r!=null&&!isNaN(r)){o=o+r;}var d=0;var k=0;d=s.offsetHeight;if(screen.height<d){d=screen.height;}k=s.offsetWidth;if(screen.width<k){k=screen.width;}if(!c){h.style.height=d+"px";h.style.width=k+"px";}var l=GetViewportScrollPos().x;var j=l+document.body.offsetWidth-1;var e=GetViewportScrollPos().y;var g=e+document.body.offsetHeight-1;var m=h.offsetHeight>0?h.offsetHeight:d;var f=h.offsetWidth>0?h.offsetWidth:k;if((n+m)>g){n=g-m;}if((o+f)>j){o=j-f;}if(o<l){o=l;}if(n<e){n=e;}h.style.top=n+"px";h.style.left=o+"px";h.style.zIndex=1001;}function createCookie(g,c,e){if(e){var f=new Date();f.setTime(f.getTime()+(e*24*60*60*1000));var d="; expires="+f.toGMTString();}else{var d="";}document.cookie=g+"="+c+d+"; path=/";}function readCookie(h){var e=h+"=";var g=document.cookie.split(";");for(var d=0;d<g.length;d++){var f=g[d];while(f.charAt(0)==" "){f=f.substring(1,f.length);}if(f.indexOf(e)==0){return f.substring(e.length,f.length);}}return null;}function eraseCookie(c){createCookie(c,"",-1);}function IsUrl(d,e){var c=new RegExp("^(([a-z]+)://)"+(e?"?":"")+"([a-z0-9-]+|[a-z0-9][a-z0-9-._]*.[a-z]+)(:[0-9]+)?(/.*)?$","i");return c.test(d);}var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS";
},searchString:function(f){for(var c=0;c<f.length;c++){var d=f[c].string;var e=f[c].prop;this.versionSearchString=f[c].versionSearch||f[c].identity;if(d){if(d.indexOf(f[c].subString)!=-1){return f[c].identity;}}else{if(e){return f[c].identity;}}}},searchVersion:function(c){var d=c.indexOf(this.versionSearchString);if(d==-1){return;}return parseFloat(c.substring(d+this.versionSearchString.length+1));},dataBrowser:[{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();function GetElementViewportOffset(e){var g=0,f=0,d=document.body;var c=e;do{g+=c.offsetTop||0;f+=c.offsetLeft||0;if(c.offsetParent==d&&c.style.position&&c.style.position=="absolute"){break;}}while(c=c.offsetParent);c=e;do{if(c!=d){g-=c.scrollTop||0;f-=c.scrollLeft||0;}}while(c=c.parentNode);var h=new Object();h.x=f;h.y=g;return h;}function SizeImageWithinBounds(k,h,d,c){h=parseInt(h);if(isNaN(h)){h=0;}d=parseInt(d);if(isNaN(d)){d=0;}if(h<=0&&d<=0){return;}if(k==null){return;}if(!k.tagName){return;}if(k.tagName.toUpperCase()!="IMG"){return;}var e=k.width;var f=k.height;if(e==0||f==0){return;
}var g=k.width/k.height;var j=0;if(h>0&&d>0){j=(Math.floor(h/g)<=d)?1:2;}else{if(h>0){if(e>h||(e<h&&c)){j=1;}}else{if(f>d||(f<d&&c)){j=2;}}}if(j==0){return;}if(j==1){e=h;f=Math.max(Math.floor(e/g),1);}else{f=d;e=Math.max(Math.floor(f*g),1);}k.width=e;k.height=f;}function GetViewportScrollPos(){var c=new Object();c.x=c.y=0;if(typeof window.pageYOffset!="undefined"){c.y=window.pageYOffset;c.x=window.pageXOffset;}else{if(document.documentElement){c.y=document.documentElement.scrollTop;c.x=document.documentElement.scrollLeft;}else{if(document.body&&typeof document.body.scrollTop!="undefined"){c.y=document.body.scrollTop;c.x=document.body.scrollLeft;}}}return c;}function hasClass(d,e){if(d!==null){var c=new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)");return c.test(d.className);}return false;}function addClass(d,c){if(this.hasClass(d,c)){return;}if(d!==null){d.className=[d.className,c].join(" ");}}function removeClass(f,g){var e=new RegExp("(?:^|\\s+)"+g+"(?:\\s+|$)","g");if(!hasClass(f,g)){return;}if(f!==null){var d=f.className;f.className=d.replace(e," ");if(hasClass(f,g)){removeClass(f,g);}}}function replaceClass(e,f,c){if(f===c){return false;}var d=new RegExp("(?:^|\\s+)"+f+"(?:\\s+|$)","g");if(!hasClass(e,f)){addClass(e,c);return;}e.className=e.className.replace(d," "+c+" ");if(hasClass(e,f)){replaceClass(e,f,c);}}function IsCtrl(c){if(window.event){return window.event.ctrlKey;}if(c.ctrlKey){return c.ctrlKey;}return(c.modifiers&Event.CONTROL_MASK==Event.CONTROL_MASK);}function IsShift(c){if(window.event){return window.event.shiftKey;}if(c.shiftKey){return c.shiftKey;}return(c.modifiers&Event.SHIFT_MASK==Event.SHIFT_MASK);}function SetIsCtrl(c){if($get("__CTRLKEY")!=null){$get("__CTRLKEY").value=IsCtrl(c);}}function SetIsShift(c){if($get("__SHIFTKEY")!=null){$get("__SHIFTKEY").value=IsShift(c);}}function InitiateControlEventWithArgument(controlClientID,argument,eventName){if(eventName==null){eventName="click";}if(argument!=null&&argument!=""){$get("__EVENTARGUMENT").value=argument;
}var ajaxifiedControl=$get(controlClientID);if(ajaxifiedControl!=null){eval("ajaxifiedControl."+eventName+"()");}}function InitiatePostBack(c,d){__doPostBack(c,d);}var ignoreTabChange=false;function TabContainer_OnActiveTabChanged(c,d){c.get_clientStateField().value=c.saveClientState();if(typeof(Page_ClientValidate)=="function"){if(!ignoreTabChange&&!Page_ClientValidate()){ShowFailedTab(c);}}}function ShowProblemTab(){if(typeof(Page_ClientValidate)=="function"&&!Page_IsValid){var c=jQuery(".ajax__tab_xp").get();for(var d=0;d<c.length;++d){ShowFailedTab($find(c[d].id));}}}function ShowFailedTab(g){for(f=0;f<Page_Validators.length;++f){var e=Page_Validators[f];if(e.evaluationfunction(e)==false){var d=g.get_tabs();var c=e.parentNode;while(c!=null){for(var f=0;f<d.length;++f){if(c==d[f]._element){ignoreTabChange=true;g.set_activeTab(d[f]);ignoreTabChange=false;return;}}c=c.parentNode;}}}}function getElementsByClassName(h,k){if(!k){k=document.getElementsByTagName("body")[0];}var f=[];var c=new RegExp("\\b"+h+"\\b");var e=k.getElementsByTagName("*");for(var g=0,d=e.length;g<d;g++){if(c.test(e[g].className)){f.push(e[g]);}}return f;}var win=null;function NewWindow(d,j,k,l,g,m,f,p,o){var e=750;var c=500;var n="";if(k.toLowerCase()=="current"||k.toLowerCase()=="c"){e=window.document.body.offsetWidth-20;c=window.document.body.offsetHeight-20;mw=800;mh=600;}if(k.toLowerCase()=="full"||k.toLowerCase()=="f"){e=900;c=600;mw=800;mh=600;}if(k==""||k.toLowerCase()=="large"||k.toLowerCase()=="l"){e=750;c=500;mw=750;mh=500;}if(k.toLowerCase()=="medium"||k.toLowerCase()=="m"){e=650;c=400;mw=650;mh=400;}if(k.toLowerCase()=="small"||k.toLowerCase()=="s"){e=400;c=200;mw=400;mh=200;}if(k.toLowerCase()=="help"||k.toLowerCase()=="h"){e=650;c=400;mw=650;mh=400;}if(k.toLowerCase()=="print"||k.toLowerCase()=="p"){e=750;c=500;mw=750;mh=500;}if(k.toLowerCase()=="flowchart"||k.toLowerCase()=="l"){e=790;c=515;mw=790;mh=515;}if((g==null||g)&&(typeof gWebsiteKey!="undefined"&&gWebsiteKey!="null"&&d.indexOf("&WebsiteKey=")<0)){d+="&WebsiteKey="+gWebsiteKey;
}if(j.indexOf("-")>=1){n=j.substr(0,9);}else{n=j;}ShowDialog_NoReturnValue(d,null,e,c,j,null,"D",m,n,f,p,o,null);}function RefreshBySubmit(){if(gPostBackFormObject!=null){gPostBackFormObject.submit();}else{if(document.forms.length>0){document.forms[0].submit();}else{window.location.href=window.location.href;}}}function SetDefaultStyle(c){if(c.className!="VTabSelectedStyle"){c.className="VTabDefaultStyle";}}function SetHoverStyle(c){if(c.className!="VTabSelectedStyle"){c.className="VTabHoverStyle";}}function UpdateFormInputAndSubmit(g,e){var f=document.forms;if(docFormsLen>0){for(var c=0,d=f.length;c<d;c++){if(f[c].elements[g]!=null){f[c].elements[g].value=e;f[c].submit();break;}}}}function toggleElement(d,c){target=document.getElementById(d);switch(target.style.display){case ("block"):target.style.display="none";c.src=gWebRoot+"/AsiCommon/Images/+.gif";break;default:target.style.display="block";c.src=gWebRoot+"/AsiCommon/Images/-.gif";break;}}function fieldAppend(e,c){var f=e.options[e.selectedIndex].value;var d=document.getElementById(c);d.count=(typeof d.count=="undefined")?1:++d.count;d.value+=f+" \n";}var brushState="block";var existingClassNames=new Array();function surfToEditNavigationItem(c){ShowDialog_NoReturnValue(gWebRoot+"/iMIS/ContentManagement/NavigationItemProperties.aspx?iUniformKey="+c,null,"800","600","Navigation Designer","~/AsiCommon/Images/icon_nav.gif","E");CancelEvent();}function surfToEditContentItem(c,f,e,d){ShowDialog_NoReturnValue(gWebRoot+"/iMIS/ContentManagement/ContentItemEdit.aspx?ContentTypeKey="+e+"&ContentKey="+c+"&ContentItemKey="+f+"&iOperation=Edit",null,"800","600",d,null,"E",null,null,false,true,null,null);CancelEvent();}function surfToEditHtmlContentItem(c,f,e,d){ShowDialog_NoReturnValue(gWebRoot+"/iMIS/ContentManagement/ContentItemEdit.aspx?ContentTypeKey="+e+"&ContentKey="+c+"&ContentItemKey="+f+"&iOperation=Edit",null,"97%","97%",d,null,"E",null,null,false,true,null,null);CancelEvent();}function surfToEditContentRecord(e,d){var c=gWebRoot+"/iMIS/ContentManagement/ContentDesigner.aspx?ShowSummary=false&TemplateType=E&ShowMenu=true&DialogMode=true&ShowHierarchyTree=false&Mode=EditContent&ShowAddress=false&ContentHierarchyKey="+e;
if(d!=null&&d.length>0){if(d.substr(0,1)=="?"){d=d.substr(1);}if(d.substr(0,1)!="&"){d="&"+d;}c+=d;}NewWindow(c,"Content Designer","current","nonmodal",false);CancelEvent();}setBodyCssClass(gIsEasyEditEnabled);function setBodyCssClass(c){if(c){jQuery("Body").addClass("EasyEditOn");}}function contentRecordChangeRequest(e,d){var c=gWebRoot+"/AsiCommon/Controls/ContentManagement/ContentDesigner/ContentChangeRequestEdit.aspx?CloseWindowOnCommit=true&PageOperation=New&ContentRecordKey="+e;if(d!=null&&d.length>0){if(d.substr(0,1)=="?"){d=d.substr(1);}if(d.substr(0,1)!="&"){d="&"+d;}c+=d;}ShowDialog_NoReturnValue(c,null,"600","400","Content Designer","~/AsiCommon/Images/icon_con.gif","E");CancelEvent();}function emailAFriend(c){var d=gWebRoot+"/iMIS/ContentManagement/EmailAFriend.aspx?PageTitle="+c+"&PreserveStatefulBusinessContainer=true";ShowDialog_NoReturnValue(d,null,600,400,"E-mail a friend","~/AsiCommon/Images/icon_email.gif","E");return CancelEvent();}function printThisPage(){window.open(gWebRoot+"/iMIS/Print.aspx");}function printThisPageTemplate(){var d=window.location.href;var c=new RegExp("[?&]TemplateType=[A-Za-z]","g");d=d.replace(c,"");if(d.indexOf("?")<0){d+="?";}else{if(d.indexOf("?")!=d.length-1){d+="&";}}d+="TemplateType=P";window.location.href=d;}function showHideBrush(){var c=document.getElementsByName("editlink");if(c==null||c.length==0){alert("There are no Screen Designer Panels to edit on this page.");return;}for(var d=0;d<c.length;d++){c[d].style.display=brushState;c[d].className="";if(brushState=="block"){existingClassNames[d]=getParent(c[d]).className;getParent(c[d]).className="PanelEditLink";var e=c[d].getAttribute("panelName");getParent(c[d]).title=e;}else{getParent(c[d]).className=existingClassNames[d];getParent(c[d]).title="";}}if(brushState=="none"){brushState="block";}else{brushState="none";}}function Rollover(c,d){c.src=d;}function printWindow(){var c=parseInt(navigator.appVersion);if(c>=4){window.print();}}function emailWindow(){alert("email window");
}function showInfoCenter(){alert("InfoCenter");}function showHelpDialog(c){var e=navigator.userAgent.toLowerCase();var d=(navigator.platform.indexOf("iPhone")!=-1)||(navigator.platform.indexOf("iPad")!=-1)?true:false;if(/msie/.test(e)){window.showHelp(c);}else{if(d){window.open(c,"_blank","");}else{window.showModalDialog(c);}}}function ShowDialog_NoReturnValue(l,f,p,h,k,j,g,o,m,n,c,d,e){ShowDialog(l,f,p,h,k,j,g,o,m,n,c,d,e);}var RadWindowInformation=new Object();function ShowDialog(q,g,v,k,n,m,h,u,s,t,c,d,e){if(q.indexOf("~")==0){q=gWebRoot+q.substring(1);}if(s==null||s.length==0){s="GenericWindow";}if(q.indexOf("TemplateType=")<0){if(h==null||h.length==0){h="E";}var r=q.indexOf("?")>-1?"&":"?";q+=r+"TemplateType="+h;}if(t&&q.indexOf("CloseWindowOnCommit")<0){var r=q.indexOf("?")>-1?"&":"?";q+=r+"CloseWindowOnCommit="+t;}if(c&&q.indexOf("PreserveStatefulBusinessContainer")<0){var r=q.indexOf("?")>-1?"&":"?";q+=r+"PreserveStatefulBusinessContainer="+c;var l=$get("PageInstanceKey");if(l!=null){q+="&ParentPageInstanceKey="+l.value;}}if(q.indexOf("DialogCacheParam")<0){var r=q.indexOf("?")>-1?"&":"?";q+=r+"DialogCacheParam="+Math.random();}if(q.indexOf("IsPopup")<0){var r=q.indexOf("?")>-1?"&":"?";q+=r+"IsPopup=true";}var j=livePageWidth();if((v+"").indexOf("%")>-1){v=j*(parseInt(v)/100);}else{if(v>j){v=j;}}var p=livePageHeight();if((k+"").indexOf("%")>-1){k=p*(parseInt(k)/100);}else{if(k>p){k=p;}}RadWindowInformation.windowName=s;RadWindowInformation.url=q;RadWindowInformation.args=g;RadWindowInformation.width=v;RadWindowInformation.height=k;RadWindowInformation.title=n;RadWindowInformation.iconUrl=m;RadWindowInformation.callBackFunction=u;RadWindowInformation.dialogCloseFunction=d;RadWindowInformation.sourceObject=e;RadWindowInformation.dialogWindow=null;var o=GetRadWindowManager();if(o==null){DelaySetupRadWindow();return null;}var f=o.getWindowByName(s);if(f!=null&&f.IsClosed()){f.Name=null;f=null;}if(f==null){f=window.radopen(null,s);}if(f==null){DelaySetupRadWindow();
return null;}if(f!=null&&q.indexOf("Mode=EditContent")>-1||q.indexOf("/ContentRecordEdit.aspx?")>-1){f.set_behaviors(4+16+32+64);}if(f!=null&&q.indexOf("/WebsiteEdit.aspx?")>-1||q.indexOf("/SelectTheme.aspx?")>-1){k=livePageHeight()-10;v=livePageWidth()-10;f.setSize(v,k);f.maximize();f.set_animationDuration(0);f.set_behaviors(4+64);f.set_destroyOnClose(false);}RadWindowInformation.dialogWindow=f;return SetupRadWindow();}function DelaySetupRadWindow(){addAjaxLoadEvent(SetupRadWindow);}function SetWindowTitle(c,d){c.set_title(RadWindowInformation.title);}Sys.EventHandlerList.prototype.removeExtraneousHandlers=function(c,d){a=this._getEvent(c,true);b=null;if(a.length>0){b=a[0];}Array.clear(this._getEvent(c,true));if(d&&b!=null){Array.add(this._getEvent(c,true),b);}};function SetupRadWindow(){var f=RadWindowInformation.dialogWindow;if(f==null){f=GetRadWindowManager().getWindowByName(RadWindowInformation.windowName);}f.get_events().removeExtraneousHandlers("beforeClose",false);f.get_events().removeExtraneousHandlers("close",true);f.remove_pageLoad(SetWindowTitle);f.add_pageLoad(SetWindowTitle);f.Argument=RadWindowInformation.args;f.dialogArguments=RadWindowInformation.args;if(RadWindowInformation.callBackFunction!=null){f.add_beforeClose(RadWindowInformation.callBackFunction);}if(RadWindowInformation.dialogCloseFunction!=null){f.add_close(RadWindowInformation.dialogCloseFunction);}f.SourceObject=RadWindowInformation.sourceObject;f.setUrl(RadWindowInformation.url);f.SetVisible(true);var g=GetViewportWidth();var e=GetViewportHeight();if(RadWindowInformation.width>g){RadWindowInformation.width=g;}if(RadWindowInformation.height>e){RadWindowInformation.height=e;}f.setSize(RadWindowInformation.width,RadWindowInformation.height);f.set_visibleStatusbar(false);var d=f.GetTitlebar();var c=d.getElementsByTagName("a");c[0].style.background="url(about:blank)";f.center();return f;}function CMOpenDialog(j,l,c,d,h,m,g,e,k){if(j!=null){if(h==null){h="";}else{if(h.substr(0,1)!="&"){h="&"+h;
}}if(c==null){c=600;}if(d==null){d=400;}if(k==null){k="";}var f=gWebRoot+"/iMIS/ContentManagement/Template.aspx?ContentCode="+j+h;if(typeof gWebsiteKey!="undefined"&&gWebsiteKey!="null"&&f.indexOf("&WebsiteKey=")<0){f+="&WebsiteKey="+gWebsiteKey;}if(e!=null){f=f+"&NavigationCode="+e;}ShowDialog(f,m,c,d,k,"","E",g);}else{alert("contentCode is required!");}}function GetViewportWidth(){var c;if(typeof window.innerWidth!="undefined"){c=window.innerWidth;}else{if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0){c=document.documentElement.clientWidth;}else{c=document.getElementsByTagName("body")[0].clientWidth;}}return c;}function GetViewportHeight(){var c;if(typeof window.innerWidth!="undefined"){c=window.innerHeight;}else{if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0){c=document.documentElement.clientHeight;}else{c=document.getElementsByTagName("body")[0].clientHeight;}}return c;}var dialogWin=new Object();function ShowPseudoDialog(h,l,d,f,j){window.attachEvent("onclick",checkModal);window.attachEvent("onfocus",checkModal);var c=false;try{if(!dialogWin.win||(dialogWin.win&&dialogWin.win.closed)){c=true;}}catch(k){if(k.message=="The remote server machine does not exist or is unavailable"){c=true;}}if(c){dialogWin.returnFunc=j;dialogWin.returnedValue="";dialogWin.args=l;if(typeof(j)=="string"&&j!=""){if(h.indexOf("?")<0){h+="?iCallbackFunction="+j;}else{h+="&iCallbackFunction="+j;}}dialogWin.url=h;dialogWin.width=d;dialogWin.height=f;dialogWin.name=(new Date()).getSeconds().toString();dialogWin.left=(screen.width-dialogWin.width)/2;dialogWin.top=(screen.height-dialogWin.height)/2;var g="left="+dialogWin.left+",top="+dialogWin.top+",scrollbars=yes,resizable=yes,width="+dialogWin.width+",height="+dialogWin.height;dialogWin.win=window.open(dialogWin.url,dialogWin.name,g);dialogWin.win.focus();
}else{dialogWin.win.focus();}}function checkModal(){setTimeout("finishChecking()",50);return true;}function finishChecking(){try{if(dialogWin.win&&!dialogWin.win.closed){dialogWin.win.focus();}}catch(c){if(c.message=="The remote server machine does not exist or is unavailable"){return;}}}function wait(){window.document.body.style.cursor="wait";var d=document.getElementsByTagName("input");for(var c=0;c<d.length;c++){if(d[c].getAttribute("type")==null){continue;}var e=d[c].getAttribute("type").toLowerCase();if((e=="submit"||e=="image"||e=="button")){d[c].disabled=true;}}}function waitStop(){window.document.body.style.cursor="default";var d=document.getElementsByTagName("input");for(var c=0;c<d.length;c++){if(d[c].getAttribute("type")==null){continue;}var e=d[c].getAttribute("type").toLowerCase();if((e=="submit"||e=="image"||e=="button")){d[c].disabled=false;}}}function dropDownListNavigate(d){var c=d.options[d.selectedIndex].value;if(c!=""){if(c.substr(0,1)=="~"){c=gWebRoot+c.substr(1);}location.href=c;}}function OpenObjectBrowserSized(m,j,h,d,n,c,e,f){var g=gWebRoot+"/AsiCommon/Controls/BSA/ObjectBrowser.aspx?TemplateType=E&DialogMode=true";var k=true;if(m!=null){var l=m.split("&");if(FindParameterInArray("Mode",l)==null){m+="&Mode=SelectContent";}if(h!=null&&h&&FindParameterInArray("AllowMultiSelect",l)==null){m+="&AllowMultiSelect=false";}if(d!=null&&FindParameterInArray("PublishedOnly",l)==null){m+="&PublishedOnly="+d;}if(m.substr(0,1)!="&"){g+="&";}g+=m;if(FindParameterInArray("PreserveContainer",l)!=null){k=false;}}else{g+="&Mode=SelectContent";if(h!=null&&h){g+="&AllowMultiSelect=false";}if(d!=null){g+="&PublishedOnly="+d;}}return ShowDialog(g,n,c,e,"Document Browser",null,"E",j,"ObjectBrowser",false,k,(f?j:null));}function OpenObjectBrowser(d,g,f,c,e){return OpenObjectBrowserSized(d,g,f,c,e,800,600,false);}function OpenContentForSaveAs(e,c,f){var d=gWebRoot+"/AsiCommon/Controls/BSA/ObjectBrowser.aspx?TypeFilter=CON,CFL&ShowMenu=false&ShowFilename=true&DialogMode=true&PublishedOnly=false&Mode=SelectContainer&AutoSizeObjectBrowser=true";
d+="&DocumentHierarchyKey="+e;d+="&Filename="+c;return ShowDialog(d,"",800,600,"Content Browser",null,"E",f,"ObjectBrowser",false,false,null);}function OpenContentForEdit(d){var c=gWebRoot+"/iMIS/ContentManagement/ContentDesigner.aspx?TemplateType=E&ShowMenu=true&DialogMode=true";c+="&ContentHierarchyKey="+d;var e=radopen(c,"ObjectBrowser");return e;}function EditContentItem(c){OpenContentForEdit(c);}function OpenFinderAdder(j,h,e,d,k,c,l,f,g){OpenFinderAdderWithQueryFilter(j,h,e,d,k,c,l,"",f,g,"");}function OpenFinderAdderWithQueryFilter(f,h,d,g,c,o,e,l,p,n,k){var j=gWebRoot+"/AsiCommon/Controls/Shared/FinderAdder/FinderAdder.aspx?DialogMode=true";if(d!=null){j+="&DocumentKey="+d;}else{if(g!=null){j+="&DocumentPath="+g;}else{if(c!=null){j+="&AtomName="+c;}}}if(o!=null&&o.length>0){j+="&DisplayValueColumn="+o;}if(e!=null&&e.length>0){j+="&DataKeyName="+e;}if(l!=null&&l.length>0){j+="&filterValue="+l;}if(h!=null&&h){j+="&AllowMultiSelect=false";}else{j+="&AllowMultiSelect=true&PagingEnabled=false";}if(k!=null&&k.length>0){j+="&AddTargetUrl="+k;}if(p==null){p=800;}if(n==null){n=600;}var m="Find";if(k!=null&&k.length>0){m="Find/Add";}return ShowDialog(j,null,p,n,m,null,"E",f,"ObjectBrowser",false,true);}function OpenPartyFinderAdder(j,h,e,d,k,c,l,f,g){OpenPartyFinderAdderWithQueryFilter(j,h,e,d,k,c,l,"",f,g,false,null);}function OpenPartyFinderAdderWithQueryFilter(g,l,e,h,d,q,f,n,r,p,k,c,j){var m=gWebRoot+"/AsiCommon/Controls/Shared/FinderAdder/PartyFinderAdder.aspx?DialogMode=true";if(e!=null){m+="&DocumentKey="+e;}else{if(h!=null){m+="&DocumentPath="+h;}else{if(d!=null){m+="&AtomName="+d;}}}if(q!=null&&q.length>0){m+="&DisplayValueColumn="+q;}if(f!=null&&f.length>0){m+="&DataKeyName="+f;}if(n!=null&&n.length>0){m+="&filterValue="+n;}if(l!=null&&l){m+="&AllowMultiSelect=false";}else{m+="&AllowMultiSelect=true&PagingEnabled=false";}if(k!=null&&k=="True"){m+="&AllowAdd="+k;}if(c!=null&&c.length>0){m+="&PartyType="+c;}if(r==null){r=800;}if(p==null){p=600;}var o="Find";if(k!=null&&k=="True"){o="Find/Add";
}if(j!=null&&j.length>0){m+="&addTargetShortcut="+j;}return ShowDialog(m,null,r,p,o,null,"E",g,"ObjectBrowser",false,true);}function OpenFileUpload(f,c,g,h,d,j){var e=gWebRoot+"/AsiCommon/Controls/Shared/FileUpload/FileUpload.aspx";if(c!=null&&c.length>0){e+="?DocumentStorageKey="+c;}if(g!=null&&g.length>0){if(e.indexOf("?")<0){e+="?DocumentServerPath="+g;}else{e+="&DocumentServerPath="+g;}}if(h!=null&&h>0){if(e.indexOf("?")<0){e+="?MaxFileUploadSize="+h;}else{e+="&MaxFileUploadSize="+h;}}if(d!=null&&d.length>0){if(e.indexOf("?")<0){e+="?AllowedTypes="+d;}else{e+="&AllowedTypes="+d;}}if(j!=null&&j.toLowerCase()=="true"){if(e.indexOf("?")<0){e+="?EnableDescriptionField=true";}else{e+="&EnableDescriptionField=true";}}return ShowDialog(e,null,450,430,"File Upload",null,"E",f,"GenericWindow",false,true);}function OpenObjectSaver(c,e){var d=c.split("&");if(FindParameterInArray("ShowFilename",d)==null){c=c+"&ShowFilename=true";}if(FindParameterInArray("Mode",d)==null){c=c+"&Mode=SelectContainer";}OpenObjectBrowser(c,e);}function clickButton(g,d){var f=document.getElementById(d);if(typeof f=="object"){var c=navigator.appName.indexOf("Netscape")>(-1)?g:event;if(c.keyCode==13){f.click();return cancelEvent();}}return true;}var dirty=true;function finish(d){if(dirty&&window.opener){if(d){var c=window.opener.document.getElementById(d);if(c==null&&window.opener.dialogWin.args!=null){c=window.opener.document.getElementById(window.opener.dialogWin.args);}if(c!=null){c.click();}}if(c==null&&window.opener.RefreshBySubmit){window.opener.RefreshBySubmit();}if(window.opener.dialogWin.returnFunc!=null){window.opener.dialogWin.returnFunc();}}else{if(dirty&&parent){if(typeof parent.SubPage_Committed=="function"){parent.SubPage_Committed();}else{if(parent.objectBrowserClass!==null){parent.objectBrowserClass.SubPage_Committed();}}}}}var MatchColumnsSemaphore=false;matchColumns=function(){var j,g,e,f,h;j=document.getElementsByTagName("div");g=[];e=0;for(var c=0;c<j.length;c++){if(/\bcolumn\b/.test(j[c].className)){h=j[c];
g[g.length]=h;if(h.offsetHeight){f=h.offsetHeight;}else{if(h.style.pixelHeight){f=h.style.pixelHeight;}else{if(MatchColumnsSemaphore){MatchColumnsSemaphore=false;}else{window.setTimeout(matchColumns,500);MatchColumnsSemaphore=true;return;}}}e=Math.max(e,f);}}for(var c=0;c<g.length;c++){g[c].style.height=e+"px";}};window.onload=function(){if(document.getElementsByTagName){matchColumns();}};function setNextAppend(c){theForm=c.form;for(i=0;i<theForm.elements.length;i++){if(theForm.elements[i].id==c.id){theForm.elements[i+1].value+="\n"+c.value;break;}}}function setNext(c){theForm=c.form;for(i=0;i<theForm.elements.length;i++){if(theForm.elements[i].id==c.id){theForm.elements[i+1].value=c.value;break;}}}function ButtonNavigate(c){if(c!=""){location.href=c;}}function Browser(){var e,d,c;this.isIE=false;this.isNS=false;this.version=null;e=navigator.userAgent;d="MSIE";if((c=e.indexOf(d))>=0){this.isIE=true;this.version=parseFloat(e.substr(c+d.length));return;}d="Netscape6/";if((c=e.indexOf(d))>=0){this.isNS=true;this.version=parseFloat(e.substr(c+d.length));return;}d="Gecko";if((c=e.indexOf(d))>=0){this.isNS=true;this.version=6.1;return;}}var browser=new Browser();var activeButton=null;function buttonClick(d,e){var c;if(browser.isIE){c=window.event.srcElement;}else{c=d.currentTarget;}c.blur();if(c.menu==null){c.menu=document.getElementById(e);if(c.menu.isInitialized==null){menuInit(c.menu);}}if(c.onmouseout==null){c.onmouseout=buttonOrMenuMouseout;}if(c==activeButton){return false;}if(activeButton!=null){resetButton(activeButton);}if(c!=activeButton){depressButton(c);activeButton=c;}else{activeButton=null;}return false;}function buttonMouseover(d,e){var c;if(activeButton==null){buttonClick(d,e);return;}if(browser.isIE){c=window.event.srcElement;}else{c=d.currentTarget;}if(activeButton!=null&&activeButton!=c){buttonClick(d,e);}}function depressButton(r){var g,d;r.className+=" menuButtonActive";r.attachEvent("onmouseout",buttonOrMenuMouseout);if(r.onmouseout==null){r.onmouseout=buttonOrMenuMouseout;
}if(r.menu.onmouseout==null){r.menu.onmouseout=buttonOrMenuMouseout;}g=getPageOffsetLeft(r);d=getPageOffsetTop(r)+r.offsetHeight;if(browser.isIE){g+=r.offsetParent.clientLeft;d+=r.offsetParent.clientTop;}var o=0;var s=0;var l=document.body.offsetLeft+document.body.offsetWidth-30;var h=document.body.offsetTop+document.body.offsetHeight-30;var m=getParent(r.menu);var p=g+getPageOffsetLeft(m);var k=d+getPageOffsetTop(m)+m.offsetHeight;if(browser.isIE){o=p+r.menu.clientWidth;s=k+r.menu.clientHeight;}else{o=p+100;s=k+300;}if(o>l){g-=(o-l);o=g+r.menu.clientWidth;}if(s>h){s=d+r.menu.clientHeight;}r.menu.style.left=g+"px";r.menu.style.top=d+"px";r.menu.style.visibility="visible";var f=document.getElementsByTagName("select");for(i=0;i<f.length;i++){var c=f(i);var q=getPageOffsetLeft(c);var e=getPageOffsetTop(c)+c.offsetHeight;var n=0;var j=0;if(browser.isIE){q+=c.offsetParent.clientLeft;e+=c.offsetParent.clientTop;n+=q+c.clientWidth;j+=e+c.clientHeight;}else{n+=q+200;j+=e+20;}s+=5;if(squareIntersectsSquare(q,n,e,j,p,o,k,s)){c.style.visibility="hidden";}}}function numberOrder(c,d){return c-d;}function squareIntersectsSquare(c,h,g,f,k,j,e,d){xArray=new Array(c,h,k,j);xArray.sort(numberOrder);yArray=new Array(g,f,e,d);yArray.sort(numberOrder);if((xArray[0]==c&&xArray[1]==h)||(xArray[0]==k&&xArray[1]==j)){return false;}if((yArray[0]==g&&yArray[1]==f)||(yArray[0]==e&&yArray[1]==d)){return false;}return true;}function resetButton(c){removeClassName(c,"menuButtonActive");if(c.menu!=null){closeSubMenu(c.menu);c.menu.style.visibility="hidden";}var d=document.getElementsByTagName("select");for(i=0;i<d.length;i++){d(i).style.visibility="visible";}}function menuMouseover(c){var d;if(browser.isIE){d=getContainerWith(window.event.srcElement,"DIV","menu");}else{d=c.currentTarget;}if(d.activeItem!=null){closeSubMenu(d);}}function menuItemMouseover(h,e){var k,f,c,d;if(browser.isIE){k=getContainerWith(window.event.srcElement,"A","menuItem");}else{k=h.currentTarget;}f=getContainerWith(k,"DIV","menu");
if(f.activeItem!=null){closeSubMenu(f);}f.activeItem=k;k.className+=" menuItemHighlight";if(k.subMenu==null){k.subMenu=document.getElementById(e);if(k.subMenu.isInitialized==null){menuInit(k.subMenu);}}if(k.subMenu.onmouseout==null){k.subMenu.onmouseout=buttonOrMenuMouseout;}c=getPageOffsetLeft(k)+k.offsetWidth;d=getPageOffsetTop(k);var g,j;if(browser.isNS){g=window.scrollX+window.innerWidth;j=window.scrollY+window.innerHeight;}if(browser.isIE){g=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft)+(document.documentElement.clientWidth!=0?document.documentElement.clientWidth:document.body.clientWidth);j=Math.max(document.documentElement.scrollTop,document.body.scrollTop)+(document.documentElement.clientHeight!=0?document.documentElement.clientHeight:document.body.clientHeight);}g-=k.subMenu.offsetWidth;j-=k.subMenu.offsetHeight;if(c>g){c=Math.max(0,c-k.offsetWidth-k.subMenu.offsetWidth+(f.offsetWidth-k.offsetWidth));}d=Math.max(0,Math.min(d,j));k.subMenu.style.left=c+"px";k.subMenu.style.top=d+"px";k.subMenu.style.visibility="visible";if(browser.isIE){window.event.cancelBubble=true;}else{h.stopPropagation();}}function closeSubMenu(c){if(c==null||c.activeItem==null){return;}if(c.activeItem.subMenu!=null){closeSubMenu(c.activeItem.subMenu);c.activeItem.subMenu.style.visibility="hidden";c.activeItem.subMenu=null;}removeClassName(c.activeItem,"menuItemHighlight");c.activeItem=null;}function buttonOrMenuMouseout(c){var d;if(activeButton==null){return;}if(browser.isIE){d=window.event.toElement;}else{if(c.relatedTarget!=null){d=(c.relatedTarget.tagName?c.relatedTarget:getParent(c.relatedTarget));}}if(getContainerWith(d,"DIV","menu")==null){resetButton(activeButton);activeButton=null;}window.event.srcElement.detachEvent("onmouseout",buttonOrMenuMouseout);}function menuInit(g){var f,c;var m,l;var h;var n,k;var d,e;if(browser.isIE){g.style.lineHeight="2.5ex";c=g.getElementsByTagName("SPAN");for(d=0;d<c.length;d++){if(hasClassName(c[d],"menuItemArrow")){c[d].style.fontFamily="Webdings";
c[d].firstChild.nodeValue="4";}}}f=g.getElementsByTagName("A");if(f.length>0){h=f[0].offsetWidth;}else{return;}for(d=0;d<f.length;d++){c=f[d].getElementsByTagName("SPAN");m=null;l=null;for(e=0;e<c.length;e++){if(hasClassName(c[e],"menuItemText")){m=c[e];}if(hasClassName(c[e],"menuItemArrow")){l=c[e];}}if(m!=null&&l!=null){m.style.paddingRight=(h-(m.offsetWidth+l.offsetWidth))+"px";}}if(browser.isIE){n=f[0].offsetWidth;f[0].style.width=n+"px";k=f[0].offsetWidth-n;n-=k;f[0].style.width=n+"px";}g.isInitialized=true;}function getContainerWith(d,c,e){while(d!=null){if(d.tagName!=null&&d.tagName==c&&hasClassName(d,e)){return d;}d=getParent(d);}return d;}function hasClassName(e,f){var c,d;d=e.className.split(" ");for(c=0;c<d.length;c++){if(d[c]==f){return true;}}return false;}function removeClassName(f,g){var c,e,d;if(f.className==null){return;}d=new Array();e=f.className.split(" ");for(c=0;c<e.length;c++){if(e[c]!=g){d.push(e[c]);}}f.className=d.join(" ");}function getPageOffsetLeft(c){var d;d=c.offsetLeft;if(c.offsetParent!=null&&c.offsetParent.style.position!="absolute"){d+=getPageOffsetLeft(c.offsetParent);}return d;}function getPageOffsetTop(d){var c;c=d.offsetTop;if(d.offsetParent!=null&&d.offsetParent.style.position!="absolute"){c+=getPageOffsetTop(d.offsetParent);}return c;}jQuery(document).ready(function(){Sys.Application.add_load(function(){handleSubmitActions();Sys.Application.remove_load(function(){handleSubmitActions();});});function handleSubmitActions(){var fields=jQuery("*[data-SubmitAction]");if(fields==null){return;}for(var i=0;i<fields.length;i++){var tempField=fields[i];if(tempField!=null&&tempField.id!=""){createSubmitAction(tempField);}else{if(tempField!=null&&tempField.childNodes!=null&&tempField.childNodes.length>0){var tempChildFields=tempField.childNodes;for(var x=0;x<tempChildFields.length;x++){var tempChildField=tempChildFields[x];addSubmitActionAttribute(tempChildField,tempField);createSubmitAction(tempChildField);}}}}}function addSubmitActionAttribute(fieldToAddAttribTo,fieldWithAttrib){if(fieldToAddAttribTo==null){return;
}var fieldToAddAttribToId=fieldToAddAttribTo.id;if(fieldToAddAttribToId==""){return;}var containedField=jQuery(fieldToAddAttribTo);if(containedField==null){return;}var submitAction=jQuery(fieldWithAttrib).data("submitaction");if(submitAction==null){return;}containedField.attr("data-SubmitAction",jQuery(fieldWithAttrib).attr("data-SubmitAction"));containedField.data("submitaction").ClientId=fieldToAddAttribToId;}function createSubmitAction(field){if(field==null){return;}var fieldId=field.id;if(fieldId==""){return;}var submitActionField=jQuery(field);if(submitActionField==null){return;}var submitAction=submitActionField.data("submitaction");if(submitAction==null){return;}var submitActionClientId=submitAction.ClientId;if(submitActionClientId!=null&&submitActionClientId!="undefined"&&submitActionClientId.trim!=""){var submitActionButtonId=submitAction.ButtonId||"";var submitActionHiddenFocusableFieldId=submitAction.HiddenFocusableFieldId||"";var enterKeyClassInstanceVar="enterKeyPressClass_"+submitActionClientId+fieldId;var classInstance="var "+enterKeyClassInstanceVar+' = new EnterKeyPressClass("'+submitActionButtonId+'", "'+submitActionHiddenFocusableFieldId+'");';eval(classInstance);var methodCall=enterKeyClassInstanceVar+'.TurnOnEnterKey("'+fieldId+'");';eval(methodCall);}}});function EnterKeyPressClass(d,c){this.TurnOnEnterKey=function(g){var h;var j=jQuery("div[id$="+g+"]:first");if(j!=null){h=j.find("input[type=text], input[type=radio], input[type=checkbox], input[type=password]");}if(j==null||j.length==0||h==null||h.length==0){h=jQuery("#"+g);}if(h!=null){h.on("keypress",(function(k){f(k);}));}};function f(h){var j=h.keyCode?h.keyCode:h.which;if(j==13){if(window.previousKeyCode){if(window.previousKeyCode==33||window.previousKeyCode==34||window.previousKeyCode==39||window.previousKeyCode==40){window.previousKeyCode=j;return;}}switch(h.target.type){case"text":case"password":if(c!=null&&c!=""){e(h.target.id,c);}var g=jQuery("#"+d);if(g!=null&&g.length==1&&!g[0].disabled){g.click();
}break;case"radio":break;case"checkbox":break;default:break;}h.preventDefault();}else{window.previousKeyCode=j;}}function e(h,g){if(g==null||g==""){return;}if(h==""){return;}var j=jQuery("#"+h);if(j==null){return;}var k=jQuery("#"+g);if(k!=null){k.val(h);}}}function ChangeSelectedTab(e){var c=e.selectedIndex;var f="Tab_";var d=f+c;var g=document.getElementById(d);var h=document.getElementsByTagName("div");for(var c=0;c<h.length;c++){if((h[c].id)!=d&&(h[c].id).substring(0,4)==f){h[c].style.display="none";}}if(document.all.namedItem(d).style.display=="none"){document.all.namedItem(d).style.display="block";if(document.all.namedItem("iAddItemTab")!=null){document.all.namedItem("iAddItemTab").value=e.selectedIndex;}}}function ShowHidePanelSection(c){element=document.getElementById(c);if(element.style.display=="none"){element.style.display="block";}else{element.style.display="none";}}function ValidateTextLength(d,c){if(d.value.length>c){d.value=d.value.substring(0,c);}}function RunAllValidators(c,d){if(typeof Page_ClientValidate=="function"){var e;for(e=0;e<Page_Validators.length;e++){if(IncludeValidationGroup(c,Page_Validators[e].validationGroup,d)){ValidatorValidate(Page_Validators[e]);}}ValidatorUpdateIsValid();if(c!=null&&c!="undefined"){for(e=0;e<c.length;e++){ValidationSummaryOnSubmit(c[e]);}}else{ValidationSummaryOnSubmit("");}ShowProblemTab();ShowProblemTelerikTab();return Page_IsValid;}return true;}function IncludeValidationGroup(c,e,d){if(c==undefined){return true;}if((e==undefined&&d)||jQuery.inArray(e,c)>=0){return true;}return false;}function ShowProblemTelerikTab(){var n=GetAllTabsStrips();if(n.length>0){for(k=0;k<Page_Validators.length;++k){var f=Page_Validators[k];if(f.evaluationfunction(f)==false){var g=document.getElementById(f.controltovalidate);if(g!=null){var m=null;var c=jQuery("#"+f.controltovalidate).closest("[data-multipage='yes']").get(0);if(typeof(c)=="undefined"||c.length<1){m=GetMultiPageId(g);}else{m=$find(c.id);}var h=false;if(m!=null){try{var d=m.get_pageViews();
h=true;}catch(j){h=false;}}if(h){var k;var l=-1;for(k=0;k<m.get_pageViews().get_count();k++){if(IsParent(m.get_pageViews().getPageView(k).get_id(),g)){l=k;break;}}if(l>=0){for(k=0;k<n.length;k++){var e=$find(n[k].id);if(e.get_multiPageID()==m.get_id()){e.set_selectedIndex(l);if(!g.disabled){try{g.focus();}catch(o){}}break;}}}}}break;}}}}function GetAllTabsStrips(){var d=new Array();var f=document.getElementsByTagName("DIV");if(f.length>0){var e=0;}var g=false;for(e=0;e<f.length;e++){g=false;if(f[e].control!=null){try{if(f[e].control.get_multiPageID()!=""){g=true;}}catch(c){g=false;}}if(g){d.push(f[e]);}}return d;}function IsParent(e,d){var c=false;if(d.parentNode!=null){if(d.id==e){return true;}else{c=IsParent(e,d.parentNode);}}return c;}function GetMultiPageId(d){var c=null;if(d.parentNode!=null){if(d.control!=null){return d.control;}else{c=GetMultiPageId(d.parentNode);}if(c!=null){return c;}}}function OnHTMLEditorClientLoad(d,c){d.attachEventHandler("onkeydown",function(o){var p=o.keyCode?o.keyCode:o.which;if(p=="9"){var f=jQuery(o.target).closest("body");var q=document.getElementsByTagName("iframe");for(var e=0;e<q.length;e++){if(jQuery(q[e].contentWindow.document.body).is(f)){var m=jQuery(q[e]).closest(".PanelFieldValue");var h=jQuery(".PanelFieldValue").index(m);var s=jQuery(".PanelFieldValue");if(h<s.length){for(var l=h+1;l<s.length;l++){var g=jQuery(s[l]).find("input[type=text], input[type=radio], input[type=checkbox], textarea");if(g!=null&&g.length>0){for(var n=0;g.length;n++){var r=g[n];if((r.style==undefined||r.style.visibility==undefined||r.style.visibility!="hidden")&&(r.style==undefined||r.style.display==undefined||r.style.display!="none")&&(r.css==undefined||r.css.display==undefined||r.css.display!="none")){$telerik.cancelRawEvent(o);r.focus();return false;}}}}}}}return true;}});d.removeShortCut("InsertTab");}if(typeof(Type)!="undefined"){Type.registerNamespace("AsiWebControls");}var currentKeepAliveExtender;AsiWebControls.KeepAliveBehavior=function(a){AsiWebControls.KeepAliveBehavior.initializeBase(this,[a]);this._tooltipFormatText="";this._reconnectCount=0;this._maxReconnectAttempts=-1;this._keepAlivePageUrl="";this._sessionTimeoutLength=0;};AsiWebControls.KeepAliveBehavior.prototype={initialize:function(){AsiWebControls.KeepAliveBehavior.callBaseMethod(this,"initialize");this.Reconnect();currentKeepAliveExtender=this;},dispose:function(){if(this._tooltipFormatText){this._tooltipFormatText=null;}if(this._reconnectCount){this._reconnectCount=null;}if(this._maxReconnectAttempts){this._maxReconnectAttempts=null;}if(this._keepAlivePageUrl){this._keepAlivePageUrl=null;}if(this._sessionTimeoutLength){this._sessionTimeoutLength=null;}AsiWebControls.KeepAliveBehavior.callBaseMethod(this,"dispose");},get_TooltipFormatText:function(){return this._tooltipFormatText;},set_TooltipFormatText:function(a){this._tooltipFormatText=a;},get_ReconnectCount:function(){return this._reconnectCount;},set_ReconnectCount:function(a){this._reconnectCount=a;},get_MaxReconnectAttempts:function(){return this._maxReconnectAttempts;},set_MaxReconnectAttempts:function(a){this._maxReconnectAttempts=a;},get_KeepAlivePageUrl:function(a){this._keepAlivePageUrl=a;},set_KeepAlivePageUrl:function(a){this._keepAlivePageUrl=a;},get_SessionTimeoutLength:function(a){this._sessionTimeoutLength=a;},set_SessionTimeoutLength:function(a){this._sessionTimeoutLength=a;},Reconnect:function(){if(this._maxReconnectAttempts<0||this._reconnectCount<this._maxReconnectAttempts){var b=this.get_element();var d=this._sessionTimeoutLength*0.75;b.title=this._tooltipFormatText.replace("{0}",(this._reconnectCount*d)/60000);var c=new Image(1,1);var a=this._keepAlivePageUrl;if(a.indexOf("?")<0){a+="?";}else{a+="&";}a+="NoCache="+Math.floor(Math.random()*1000000);c.src=a;this._reconnectCount++;window.setTimeout("currentKeepAliveExtender.Reconnect()",d);
}}};if((typeof(Type)!=="undefined")&&(typeof(AjaxControlToolkit)!=="undefined")&&Type.isNamespace(AjaxControlToolkit)&&(typeof(AjaxControlToolkit.BehaviorBase)!=="undefined")){AsiWebControls.KeepAliveBehavior.registerClass("AsiWebControls.KeepAliveBehavior",AjaxControlToolkit.BehaviorBase);}addLoadEvent(Lister2_Init);var Listers=null;function Lister2_Init(){if(!Listers||Listers==null||Listers.length==0){return;}for(var a=0;a<Listers.length;a++){if(Listers[a]==null){continue;}Listers[a].GetSelectedKeys=function(){return Lister2_GetSelectedKeys(this);};Listers[a].GetSelectedDisplayValues=function(b){return Lister2_GetSelectedDisplayValues(this,b);};Listers[a].Refresh=function(){Lister2_Refresh(this);};}RemoveGridTabindexFocus();}function Lister2_GetGrid(a){return $find(a.getAttribute("data-gridId"));}function Lister2_GetSelectedKeys(e){var g=new Array();var d=Lister2_GetGrid(e);if(d==null){return null;}var f;var c=this.document.getElementById(e.getAttribute("data-hiddenFieldId"));if(c!=null){f=c.value;}else{f=e.getAttribute("data-keyColumnName");}if(f==null){alert("Key Column not identified for this data source, unable to continue.");return null;}var h=d.get_masterTableView().get_selectedItems();for(var a=0;a<h.length;a++){var b=h[a].getDataKeyValue(f);if(b==null){alert("Unable to get selected key.");return null;}g.push(b);}return g;}function Lister2_GetSelectedDisplayValues(d,e){var c=Lister2_GetGrid(d);var g=new Array();var f=c.get_masterTableView().get_selectedItems();for(var a=0;a<f.length;a++){var b=c.get_masterTableView().getCellByColumnUniqueName(f[a],e);if(b==null){alert("Specified display column does not exist in the list: "+e);}else{if(document.all){g.push(trim(b.innerText));}else{g.push(trim(b.textContent));}}}return g;}function Lister2_Refresh(a){var b=$(a.id+"_RefreshButton");if(b!=null){b.click();}}function Lister2_DialogWindowClose(b){if(b.IsDirty){var a=b.SourceObject;Lister2_Refresh(a);}}function Lister2_DialogWindowCallback(a){}function RemoveGridTabindexFocus(){if(document.querySelectorAll!==undefined){var b=document.querySelectorAll(".RadGrid");if(b!=null&&b!==undefined){for(var c=0;c<b.length;c++){var a=b[c];a.removeAttribute("tabindex");}}}}function MarkForDeleteButtonProperties(){this.OriginalCssClass=new String();this.OldMouseOver=new String();this.OldMouseOut=new String();this.HoverCssName=new RegExp("Hover|Hand");this.HoverReplacement="";this.DisabledCssAppend="Disabled StrikeOut";}var markForDeleteButtonProperties=new MarkForDeleteButtonProperties();function MarkForDeleteButton_MarkForDelete(d,c,a,b){markforDelete=document.getElementById(c);markforDelete.checked=!markforDelete.checked;if(markforDelete.checked){DisableRow(d,c,a,b);}else{EnableRow(d,c,a,b);}}function MarkForDeleteButton_DisableRow(d,c,a,b){row=document.getElementById(d);deleteImg=document.getElementById(a);markForDeleteButtonProperties.OriginalCssClass=row.className;row.oldmouseover=row.onmouseover;row.oldmouseout=row.onmouseout;row.onmouseover="";row.onmouseout="";row.className=markForDeleteButtonProperties.OriginalCssClass.replace(markForDeleteButtonProperties.HoverCssName,markForDeleteButtonProperties.HoverReplacement)+markForDeleteButtonProperties.DisabledCssAppend;for(i=0;i<row.childNodes.length;i++){td=row.childNodes.item(i);for(j=0;j<td.childNodes.length;j++){element=td.childNodes.item(j);if(element.tagName&&element.id!=c){if(element.tagName.toUpperCase()=="INPUT"||element.tagName.toUpperCase()=="SELECT"||element.tagName.toUpperCase()=="TEXTAREA"){element.className=element.className+"Disabled";}}else{if(element.tagName){element.checked=true;}}}}deleteImg.oldSrc=deleteImg.src;deleteImg.src=b;deleteImg.alt=deleteImg.DisabledAltText;}function MarkForDeleteButton_EnableRow(d,c,a,b){row=document.getElementById(d);deleteImg=document.getElementById(a);row.className=markForDeleteButtonProperties.OriginalCssClass;row.onmouseover=row.oldmouseover;row.onmouseout=row.oldmouseout;for(i=0;i<row.childNodes.length;i++){td=row.childNodes.item(i);for(j=0;j<td.childNodes.length;j++){element=td.childNodes.item(j);if(element.tagName&&element.id!=c){if(element.tagName.toUpperCase()=="INPUT"||element.tagName.toUpperCase()=="SELECT"||element.tagName.toUpperCase()=="TEXTAREA"){element.className=element.className.replace("Disabled","");
}}else{if(element.tagName){element.checked=false;}}}}deleteImg.src=deleteImg.oldSrc;deleteImg.alt=deleteImg.ActiveAltText;}var IsDirty=false;var LastSelectedControl="";function MasterPageBase_AsyncInit(){MasterPageBase_Init(true);}var progressDivInitialWidth;var progressDivInitialHeight;var progressDivInitialMarginLeft;function MasterPageBase_Init(){var progressDiv=jQuery(".ProgressDiv").get(0);if(progressDiv!=null){progressDivInitialWidth=166;progressDivInitialHeight=30;progressDivInitialMarginLeft="45%";}var manager=Sys.WebForms.PageRequestManager.getInstance();if(manager!=null){manager.add_beginRequest(MasterPageBase_BeginRequest);}if(!IsDirty){IsDirty=eval($get("PageIsDirty").value);var radWindow=GetRadWindow();if(radWindow!=null){radWindow.IsDirty=IsDirty;}}}function MasterPageBase_BeginRequest(e,h){var g=h.get_postBackElement();if(g!=null&&g.getAttribute("data-ajaxUpdatedControlID")!=null){LastSelectedControl=g.getAttribute("data-ajaxUpdatedControlID");}else{if(g!=null){LastSelectedControl=g.id;}}var f=jQuery(".ProgressDiv").get(0);if(f!=null){f.style.width=progressDivInitialWidth+"px";f.style.height=progressDivInitialHeight+"px";f.style.marginLeft=progressDivInitialMarginLeft;f.style.top=0;f.style.left=0;var d=g.getAttribute("data-ajaxUpdatedControlID");if(d==null){d=getParent(g).getAttribute("data-ajaxUpdatedControlID");}if(d==null&&g.getAttribute("smartControlId")!=null){if(document.getElementById(g.getAttribute("smartControlId"))!=null&&document.getElementById(g.getAttribute("smartControlId")).getAttribute("data-ajaxUpdatedControlID")!=null){d=document.getElementById(g.getAttribute("smartControlId")).getAttribute("data-ajaxUpdatedControlID");}}if(d!=null&&d.length>0){var c=d.split(",");for(var b=0;b<c.length;b++){var a=$get(c[b]);if(a!=null){f.style.display="block";f.style.marginLeft="0";Cover(a,f,false);}}}else{}}}function PostCommitScript(customPostCommitScript){var commitButtonClickedHiddenInput=$get("CommitButtonClicked");var commitButtonClicked=commitButtonClickedHiddenInput!=null&&eval(commitButtonClickedHiddenInput.value);if(commitButtonClicked&&customPostCommitScript!=null&&customPostCommitScript.length>0){var messagesPanelID=$get("TemplateUserMessagesID").value;
var messagesPanel=messagesPanelID.length>0?$get(messagesPanelID):null;if(messagesPanel==null){eval(customPostCommitScript);}}commitButtonClickedHiddenInput.value="false";}function CancelButton_Click(a){var b=GetRadWindow();if(b!=null){CloseAndCancelRadWindow();}else{window.location.href=a;}try{return CancelEvent();}catch(c){return null;}}function MasterPageBaseResizeProperties(){this.TopPanel=null;this.TopPanelDivider=null;this.TitlePanel=null;this.SideBarPanel=null;this.ContentPanel=null;this.ButtonPanel=null;this.FootPanel=null;this.OldTopPanelHeight=null;this.OldSideBarPanelWidth=null;this.ExtraPixels=0;this.ResizeHeightIntervalID=0;this.ResizeHeightLastHeight=0;}var masterPageBaseResizeProperties=new MasterPageBaseResizeProperties();function MasterPageBase_SetupComponents(c,e,b,g,a,d,f){if(c!=null&&c.length>0){masterPageBaseResizeProperties.TopPanel=$get(c);masterPageBaseResizeProperties.TopPanelDivider=$get(c+"Divider");}if(e!=null&&e.length>0){masterPageBaseResizeProperties.TitlePanel=$get(e);}if(b!=null&&b.length>0){masterPageBaseResizeProperties.SideBarPanel=$get(b);}if(g!=null&&g.length>0){masterPageBaseResizeProperties.ContentPanel=$get(g);}if(a!=null&&a.length>0){masterPageBaseResizeProperties.ButtonPanel=$get(a);}if(d!=null&&d.length>0){masterPageBaseResizeProperties.FootPanel=$get(d);}if(f!=null){masterPageBaseResizeProperties.ExtraPixels=f;}else{masterPageBaseResizeProperties.ExtraPixels=13;}}function Window_Load_Aspen(){addResizeEvent(Window_Resize_Aspen);Window_Resize_Aspen();setTimeout("ScrollToFragment()",200);}function Window_Load(){addResizeEvent(Window_Resize);document.body.style.overflow="hidden";if(masterPageBaseResizeProperties.TopPanel!=null){var collapsed=readCookie("TopPanelCollapsed");if(collapsed!=null){collapsed=eval(collapsed);}else{collapsed=false;}if(BrowserDetect.browser!="Explorer"){try{var childobj=getProperChildObject(masterPageBaseResizeProperties.TopPanel);}catch(exc){}try{var childobj=getProperChildObject(masterPageBaseResizeProperties.TopPanel);
if(childobj!=null){$get(childobj.id).style.overflow="visible";}}catch(exc){}try{if(!collapsed){masterPageBaseResizeProperties.TopPanel.style.overflow="visible";}else{masterPageBaseResizeProperties.TopPanel.style.overflow="hidden";}}catch(exc){}}else{if(collapsed){masterPageBaseResizeProperties.TopPanel.style.display="none";setTimeout("$get('innerSpan').style.display ='none';",100);}else{var childobj=getProperChildObject(masterPageBaseResizeProperties.TopPanel);if(childobj!=null){$get(childobj.id).style.display="block";}setTimeout("try{$get('innerSpan').style.display ='block';} catch(exc){}",100);}}masterPageBaseResizeProperties.TopPanel.onresize=TopPanel_Resize;}Window_Resize();setTimeout("ScrollToFragment()",200);}function getProperChildObject(b){var a=b.firstChild;if(a!=null&&a.nodeName=="#text"){a=a.nextSibling;}return a;}function ScrollToElement(c){var a=0;var b=0;while(c!=null&&c!=contentPanel){b+=c.offsetTop;c=c.offsetParent;}if(masterPageBaseResizeProperties.ContentPanel!=null){masterPageBaseResizeProperties.ContentPanel.scrollTop=b;}else{window.scrollTo(a,b);}}function ScrollToFragment(){try{if(location.hash!=null&&location.hash!=""){var a=$get(location.hash.substring(1));if(a==null){a=$get(location.hash);}if(a!=null){ScrollToElement(a);}}}catch(b){}}function Window_Resize(){setTimeout("ResizeContentPanel()",300);}function Window_Resize_Aspen(){setTimeout("ResizeContentPanel_Aspen()",300);}function TopPanel_Resize(b){var a=masterPageBaseResizeProperties.TopPanel.offsetHeight;if(a!=masterPageBaseResizeProperties.OldTopPanelHeight){masterPageBaseResizeProperties.OldTopPanelHeight=a;ResizeContentPanel();}}function SideBarPanel_Resize(){if(BrowserDetect.browser=="Explorer"&&BrowserDetect.version<7){return;}var a=masterPageBaseResizeProperties.SideBarPanel.offsetWidth;if(a!=masterPageBaseResizeProperties.OldSideBarPanelWidth){masterPageBaseResizeProperties.OldSideBarPanelWidth=a;ResizeContentPanel();}}function ResizeContentPanel(){var f=livePageHeight();var c=livePageWidth();
var a=0;if(masterPageBaseResizeProperties.TopPanel!=null){try{a+=masterPageBaseResizeProperties.TopPanel.offsetHeight+masterPageBaseResizeProperties.TopPanelDivider.offsetHeight;}catch(d){a+=masterPageBaseResizeProperties.TopPanel.offsetHeight;}}if(masterPageBaseResizeProperties.TitlePanel!=null){if(masterPageBaseResizeProperties.TitlePanel.length>0){for(i=0;i<masterPageBaseResizeProperties.TitlePanel.length;i++){a+=masterPageBaseResizeProperties.TitlePanel[i].offsetHeight;}}else{a+=masterPageBaseResizeProperties.TitlePanel.offsetHeight;}}var e=0;if(masterPageBaseResizeProperties.ButtonPanel!=null){e+=masterPageBaseResizeProperties.ButtonPanel.offsetHeight;}if(masterPageBaseResizeProperties.FootPanel!=null){e+=masterPageBaseResizeProperties.FootPanel.offsetHeight;}var b=f-a-e;b-=masterPageBaseResizeProperties.ExtraPixels;if(b<=99){b=100;}if(masterPageBaseResizeProperties.SideBarPanel!=null){masterPageBaseResizeProperties.SideBarPanel.style.height=b+"px";}if(masterPageBaseResizeProperties.ContentPanel!=null){masterPageBaseResizeProperties.ContentPanel.style.height=b+"px";var g=masterPageBaseResizeProperties.ContentPanel.offsetWidth;contentResized(g,b);}}function ResizeContentPanel_Aspen(){var f=livePageHeight();var c=livePageWidth();var a=0;if(masterPageBaseResizeProperties.TopPanel!=null){try{a+=masterPageBaseResizeProperties.TopPanel.offsetHeight+$get(masterPageBaseResizeProperties.TopPanel.id+"Divider").offsetHeight;}catch(d){a+=masterPageBaseResizeProperties.TopPanel.offsetHeight;}}if(masterPageBaseResizeProperties.TitlePanel!=null){if(masterPageBaseResizeProperties.TitlePanel.length>0){for(i=0;i<masterPageBaseResizeProperties.TitlePanel.length;i++){a+=masterPageBaseResizeProperties.TitlePanel[i].offsetHeight;}}}var e=0;if(masterPageBaseResizeProperties.ButtonPanel!=null){e+=masterPageBaseResizeProperties.ButtonPanel.offsetHeight;}if(masterPageBaseResizeProperties.FootPanel!=null){e+=masterPageBaseResizeProperties.FootPanel.offsetHeight;}var g=f-a-e-15;var b=0;if(masterPageBaseResizeProperties.ContentPanel!=null){var b=masterPageBaseResizeProperties.ContentPanel.offsetHeight;
}if(b<g){b=g;}if(b<=99){b=100;}if(masterPageBaseResizeProperties.SideBarPanel!=null){masterPageBaseResizeProperties.SideBarPanel.style.height=b+"px";}if(masterPageBaseResizeProperties.ContentPanel!=null){masterPageBaseResizeProperties.ContentPanel.style.height=b+"px";var h=masterPageBaseResizeProperties.ContentPanel.offsetWidth;contentResized(h,b);}}function TopPanel_Click(){var collapsed=readCookie("TopPanelCollapsed");if(collapsed!=null){collapsed=eval(collapsed);}else{collapsed=false;}collapsed=!collapsed;createCookie("TopPanelCollapsed",(collapsed)+"",1);if(BrowserDetect.browser!="Explorer"){if(!collapsed){try{masterPageBaseResizeProperties.TopPanel.style.display="block";masterPageBaseResizeProperties.TopPanel.firstChild.style.display="block";}catch(exc){}}else{try{masterPageBaseResizeProperties.TopPanel.style.display="none";}catch(exc){}}ResizeHeightForMozilla();}else{var DisplayBlock="block";if(BrowserDetect.version>7){DisplayBlock="table-cell";}if(!collapsed){masterPageBaseResizeProperties.TopPanel.style.display=DisplayBlock;var childobj=getProperChildObject(masterPageBaseResizeProperties.TopPanel);if(childobj!=null){$get(childobj.id).style.display="block";}masterPageBaseResizeProperties.TopPanel.style.visibility="visible";}else{masterPageBaseResizeProperties.TopPanel.style.display="none";masterPageBaseResizeProperties.TopPanel.style.visibility="hidden";}setTimeout("$get('innerSpan').style.display = "+collapsed+"? 'none' : 'block'",300);}}function ResizeHeightForMozilla(){masterPageBaseResizeProperties.ResizeHeightLastHeight=masterPageBaseResizeProperties.TopPanel.offsetHeight;masterPageBaseResizeProperties.ResizeHeightIntervalID=setInterval("ResizeHeightInterval()",250);}function ResizeHeightInterval(){var a=masterPageBaseResizeProperties.TopPanel.offsetHeight;if(a==masterPageBaseResizeProperties.ResizeHeightLastHeight){clearInterval(masterPageBaseResizeProperties.ResizeHeightIntervalID);ResizeContentPanel();}masterPageBaseResizeProperties.ResizeHeightLastHeight=a;
}function GetRadWindow(){var a=null;try{if(window.radWindow){a=window.radWindow;}else{if(window.frameElement&&window.frameElement.radWindow){a=window.frameElement.radWindow;}}}catch(b){}return a;}function CloseRadWindow(){var a=GetRadWindow();if(a!=null){a.Close();}}function CloseAndCancelRadWindow(){var a=GetRadWindow();if(a!=null){var b=new Object();b.cancel=true;a.Close(b);}}function RefreshRadWindowParent(a,c){var b=GetRadWindow();var d;if(b!=null&&b.BrowserWindow!=null){d=GetRadWindow().BrowserWindow.location.href;d=AppendQuerystringParameter(d,a,c);GetRadWindow().BrowserWindow.location.href=d;}else{try{d=document.location.href;d=AppendQuerystringParameter(d,a,c);document.location.href=d;}catch(e){}}}function AppendQuerystringParameter(a,b,c){try{if(b!=null&&b.trim()!=""&&a.indexOf(b)==-1){if(a.indexOf("?")>=0){a+="&"+b+"="+c;}else{a+="?"+b+"="+c;}}return a;}catch(d){return a;}}var ContactProxyButtonControlID_Enabled;var ContactProxyButtonControlID_Disabled;function MasterPage_SetupProxy(b,a){ContactProxyButtonControlID_Enabled=b;ContactProxyButtonControlID_Disabled=a;}function RefreshProxyStatus(b){var a=document.getElementById(b);if(a!=null){_RefreshPanelStatus(ContactProxyButtonControlID_Enabled,ContactProxyButtonControlID_Disabled,a.value.toLowerCase());}}function _RefreshPanelStatus(d,b,a){var e=document.getElementById(d);var c=document.getElementById(b);if(e!=null&&c!=null){if(a.toString().toUpperCase()!="TRUE"){e.style.display="inline";c.style.display="none";}else{e.style.display="none";c.style.display="inline";}}}(function(f){Sys.Application.add_load(d);var b="";f("body").change(function(j){var h=f("[id*='lastClickedElementId']").eq(0);if(h.length>0){e(j,h);}});f("body").click(function(j){var h=f("[id*='lastClickedElementId']").eq(0);if(h.length>0){e(j,h);}});function d(){var l=f("[id*='lastClickedElementId']").eq(0);if(!l.length>0){return;}var j=null;var k=l.val().split("|");if(k.length<2){return;}try{if(k[0]=="id"){j=c(k[1]);}if(k[0]=="name"){j=a(k[1]);
}if(k[0]=="href"){j=g(k[1]);}if(j&&j.length>0){setTimeout(function(){j.focus();},100);l.val("");}}catch(h){}}function c(j){b="findById:Id search";var h=f("#"+j);if(!h||h.length==0){b="findById:href search";h=f("a[href*='"+j+"']");}return h;}function a(j){b="findByName:Name search";var h=f("input[name='"+j+"']");if(!h||h.length==0){b="findByName:href search";h=f("a[href*='"+j+"']");if(!h||h.length==0){b="findByName:id search";h=f("#"+j);}}return h;}function g(j){b="findByAnchor:href search";var h=f("a[href*='"+j+"']");if(!h||h.length==0){b="findByAnchor:name search";h=f("input[name='"+j+"']");if(!h||h.length==0){b="findByAnchor:id search";h=f("#"+j);}if(h&&h.length>0){b="findByAnchor:anchor search";h=h.siblings("a").eq(0);}}return h;}function e(j,l){if(l.val().split("|").length>2){return;}l.val("");var k=f(j.target);if(k.attr("id")&&k.attr("id").length>0){l.val("id|"+k.attr("id"));}else{if(k.attr("href")&&k.attr("href").length>0){var h=k.attr("href").split("'");if(h.length>1){l.val("href|"+h[1]);}}else{if(k.attr("name")&&k.attr("name").length>0){l.val("name|"+k.attr("name"));}}}}})(jQuery);function updateCartItemCount(){var b=jQuery(".cartSprite");if(b==null){return;}var a=b.parent().parent();if(a!=null){jQuery.ajax({type:"POST",url:gWebRoot+"/WebMethodUtilities.aspx/GetCartItemCount",data:"{}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(c){if(c.d!=""&&c.d!=null){var d=c.d;if(d!=null){b.remove();a.append(d);}}},async:true});}}function GetAvailableHeight(c){var b;if(jQuery(window).height()!=null){b=jQuery(window).height();}else{return 500;}var a;if(c.length>0){for(a=0;a<c.length;a++){b-=jQuery(c[a]).outerHeight(true);}}var d=jQuery('[data-height-offset="true"]');if(d.length>0){for(a=0;a<jQuery('[data-height-offset="true"]').length;a++){b-=jQuery(d[a]).outerHeight(true);}}else{b-=jQuery("#hd").outerHeight(true);b-=jQuery("#ft").outerHeight(true);b-=jQuery("#masterFooterPush").outerHeight(true);b-=jQuery(".ButtonPanel").outerHeight(true);
}return b;}if(typeof(Type)!=="undefined"){Type.registerNamespace("AsiWebControls");}AsiWebControls.MatchTextBehavior=function(a,b,c,d){this._targetControlID=a;this._sourceControlClientID=b;this._enabled=c;this._validCharsRegularExpression=d;this._sourceControl=null;this._targetControl=null;};AsiWebControls.MatchTextBehavior.prototype={initialize:function(){if(this._enabled){var a=$get(this._sourceControlClientID);this._sourceControl=a;var b=this;$addHandler(a,"keyup",function(){b._onkeyup();});}},_onkeyup:function(){if(this._targetControl==null){this._targetControl=$get(this._targetControlID);}if(this._sourceControl){var text=this._sourceControl.value;if(this._validCharsRegularExpression&&this._validCharsRegularExpression.length>0){text=eval("text.replace(/"+this._validCharsRegularExpression+"/g, '_')");}this._targetControl.value=text;}}};if(typeof(Type)!=="undefined"){AsiWebControls.MatchTextBehavior.registerClass("AsiWebControls.MatchTextBehavior");}addLoadEvent(NavigationList_Init);var NavigationList_LinkIndex=0;var NavigationList_SelectedNode=null;var NavigationList_NavControlId=null;var NavigationList_NavControl=null;function NavigationList_Init(){NavigationList_NavControl=document.getElementById(NavigationList_NavControlId);if(NavigationList_NavControl!=null){var a=NavigationList_NavControl.getElementsByTagName("a");for(var b=0;b<a.length;b++){if(a[b].id.substr(a[b].id.length-1,1)=="i"){a[b].removeAttribute("href");a[b].removeAttribute("onclick");}else{NavigationList_ConfigureAnchor(a[b]);}}}}var NavigationList_FirstTime=true;var NavigationList_NodeClientClick=null;var NavigationList_NodeClientMouseOver=null;var NavigationList_NodeClientMouseOut=null;function NavigationList_ConfigureAnchor(a){if(a.id.substr(NavigationList_NavControlId.length,1)=="n"){return;}if(NavigationList_FirstTime){NavigationList_SelectedNode=getParent(getParent(getParent(getParent(a))));NavigationList_FirstTime=false;}if(NavigationList_NodeClientClick!=null||NavigationList_NodeClientClick!=""){a.onclick=NavigationList_NodeClientClick;}if(NavigationList_NodeClientMouseOver!=null||NavigationList_NodeClientMouseOver!=""){a.onmouseover=NavigationList_NodeClientMouseOver;}if(NavigationList_NodeClientMouseOut!=null||NavigationList_NodeClientMouseOut!=""){a.onmouseout=NavigationList_NodeClientMouseOut;}a.linkindex=NavigationList_LinkIndex;NavigationList_LinkIndex++;}addLoadEvent(PanelTemplateControl_Init);addLoadEvent(FixCollapsedExtender);var PanelTemplateControls=new Array();function FixCollapsedExtender(){if(PanelTemplateControls&&PanelTemplateControls!=null&&PanelTemplateControls.length>0){for(var b=0;b<PanelTemplateControls.length;b++){if(PanelTemplateControls[b]!=null){var a=$find(PanelTemplateControls[b].id+"_CollapsiblePanelExtender");if(a!=null&&!a.get_Collapsed()){try{a._doOpen();}catch(c){}}}}}}function PanelTemplateControl_Init(){if(PanelTemplateControls&&PanelTemplateControls!=null&&PanelTemplateControls.length>0){for(var b=0;b<PanelTemplateControls.length;b++){if(PanelTemplateControls[b]!=null){var a=PanelTemplateControls[b].onfocus;if(a!=null){PanelTemplateControls[b].onfocus=function(c){a(c);PanelTemplateControl_Focus(c);};}else{PanelTemplateControls[b].onfocus=PanelTemplateControl_Focus;}}}setTimeout("PanelTemplateControl_FixInitialHeight()",500);}}function PanelTemplateControl_Focus(a){var b=eventSource(a);PanelTemplateControl_Focus2(b);}function PanelTemplateControl_Focus2(b){var a=$find(b.id+"_CollapsiblePanelExtender");if(a!=null&&a.get_Collapsed()){a._doOpen();}}function PanelTemplateControl_FixInitialHeight(){try{if(PanelTemplateControls!=null){for(var b=0;b<PanelTemplateControls.length;b++){var c=null;if(PanelTemplateControls[b].firstChild!=null&&PanelTemplateControls[b].firstChild.tagName!=null){if(PanelTemplateControls[b].firstChild.tagName.toUpperCase()=="FIELDSET"){c=PanelTemplateControls[b].firstChild.childNodes[2];}else{c=PanelTemplateControls[b].childNodes[1];}}if(c!=null){if(c.style.height!="1px"&&c.style.height!="0"){c.style.height="auto";}}else{}}}}catch(a){}finally{if(window.PanelTemplateControl_AfterFixInitalHeight){setTimeout("window.PanelTemplateControl_AfterFixInitalHeight();",500);}}}if(typeof(Sys)!=="undefined"){Sys.Application.notifyScriptLoaded();}Sys.Application.add_load(PanelTemplateControl2_AttachEvents);function PanelTemplateControl2_AttachEvents(){PanelTemplateControl2_AttachExpandEvent();PanelTemplateControl2_AttachCollapseEvent();}function PanelTemplateControl2_AttachExpandEvent(){jQuery(".panel-collapse").on("shown.bs.collapse",function(d){var a=d.currentTarget.parentElement;if(typeof a=="undefined"||a===null){return;}var b=d.currentTarget.getAttribute("data-expandedText");if(typeof b!="undefined"&&b!==null){jQuery(".panel-heading-collapse-text",jQuery(a)).text(b);}var c=d.currentTarget.getAttribute("data-expandedImage");if(typeof c!="undefined"&&c!==null){jQuery(".panel-heading-collapse-img",jQuery(a)).attr("src",c);}});}function PanelTemplateControl2_AttachCollapseEvent(){jQuery(".panel-collapse").on("hidden.bs.collapse",function(d){var a=d.currentTarget.parentElement;if(typeof a=="undefined"||a===null){return;}var c=d.currentTarget.getAttribute("data-collapsedText");if(typeof c!="undefined"&&c!==null){jQuery(".panel-heading-collapse-text",jQuery(a)).text(c);}var b=d.currentTarget.getAttribute("data-collapsedImage");if(typeof b!="undefined"&&b!==null){jQuery(".panel-heading-collapse-img",jQuery(a)).attr("src",b);}});}function SimpleSearchFieldProperties(){this.WatermarkClass="Watermarked";this.WatermarkText="Search";this.SearchTarget=null;}function SimpleSearchField_OnFocus(b,d){var a=document.getElementById(b);if(a==null){return;}if(hasClass(a,d.WatermarkClass)){removeClass(a,d.WatermarkClass);a.value="";if(a.setSelectionRange){a.setSelectionRange(0,0);}else{if(a.createTextRange){var c=a.createTextRange();c.moveStart("character",0);c.collapse();c.select();}}}}function SimpleSearchField_OnBlur(b,c){var a=document.getElementById(b);if(a==null){return;}if(a.value==""&&!hasClass(a,c.WatermarkClass)){addClass(a,c.WatermarkClass);a.value=c.WatermarkText;}}function SimpleSearchField_ExecuteSearch(b,d){var a=document.getElementById(b);if(a==null){return;}if(hasClass(a,d.WatermarkClass)){return;}var c=d.SearchTarget;if(c.indexOf("?")>0){c+="&";}else{c+="?";}c+="SearchTerms="+escape(a.value);location.href=c;}addLoadEvent(SmartControls_Init);var defaultSmartControlInput=null;addLoadEvent(SmartControls_AsyncInit);function SmartControls_AsyncInit(){var a=Sys.WebForms.PageRequestManager.getInstance();if(a!=null){a.add_endRequest(SmartControls_AsyncInit2);}}function SmartControls_AsyncInit2(a,b){setTimeout("SmartControls_Init(true)",750);}function SmartControls_Init(a){if(typeof(DefaultPropertySmartControls)!="undefined"&&DefaultPropertySmartControls&&DefaultPropertySmartControls!=null&&DefaultPropertySmartControls.length>0){var d=$(DefaultPropertySmartControls[0]);var h=false;var f=d.getElementsByTagName("input");for(var b=0;b<f.length;b++){f[b].setAttribute("smartControlId",d.id);defaultSmartControlInput=f[b];if(h){h=true;}}if(!h){var c=d.getElementsByTagName("select");for(var b=0;b<c.length;b++){c[b].setAttribute("smartControlId",d.id);defaultSmartControlInput=c[b];if(!h){h=true;}}}if(!h){var i=d.getElementsByTagName("textarea");for(var b=0;b<i.length;b++){i[b].setAttribute("smartControlId",d.id);defaultSmartControlInput=i[b];if(!h){h=true;}}}if(!h){var e=d.getElementsByTagName("a");for(var b=0;b<e.length;b++){e[b].setAttribute("smartControlId",d.id);defaultSmartControlInput=e[b];}}var g=getParent(d);if(g.tagName!=null&&g.tagName.toLowerCase()=="a"){g.setAttribute("smartControlId",d.id);smartControlInputs.push(g);}if(!gIsPostBack&&!a&&defaultSmartControlInput!=null&&!defaultSmartControlInput.disabled){try{window.setTimeout("defaultSmartControlInput.focus()",500);}catch(k){}}}}function SmartControl_GetSmartControlContainer(a){if(a.getAttribute("smartControlId")!=null){return $(a.getAttribute("smartControlId"));}if(a==null||a.tagName.toLowerCase()=="body"){return null;}if(a.tagName.toLowerCase()=="div"&&a.className.match("PanelField")!=null&&a.className.match("PanelFieldValue")==null){return a;}return SmartControl_GetSmartControlContainer(getParent(a));}function SmartControl_GetPanelTemplateControlContainer(a){if(a.getAttribute("data-ptcId")!=null){return $(a.getAttribute("data-ptcId"));
}}function SmartControl_GetPrincipalControl(b){if(b!=null){var a=b.getAttribute("data-inputId");if(a!=null&&a.length>0){return $(b.id+"_"+a);}}return b;}function SmartControl_LongClientValidation(a,b){b.IsValid=false;inVal=b.Value;if(inVal.substr(0,15)=="922337203685477"){lastDigits=inVal.substr(15,4);if(lastDigits<=5807){b.IsValid=true;}}else{if(inVal.substr(0,16)=="-922337203685477"){lastDigits=inVal.substr(16,4);if(lastDigits<=5808){b.IsValid=true;}}else{if(inVal>=-922337203685477&&inVal<=922337203685477){b.IsValid=true;}}}}if(typeof(Sys)!=="undefined"){Sys.Application.notifyScriptLoaded();}var IMIS_TAG_LABEL="asiweb:BusinessLabel";var IMIS_TAG_HYPERLINK="asiweb:BusinessHyperLink";var IMIS_TAG_IFBLOCK="asiweb:AtomPanelIfBlock";var IMIS_TAG_IFBLOCK_BODY="asiweb:AtomPanelIfBody";var IMIS_TAG_IFBLOCK_ELSE="asiweb:AtomPanelElseBody";var theEditor;function setImisAttribute(c,a,b){if(b!=null&&b.toString().length>0){c.setAttribute(a,b);}else{if(c.getAttribute(a)!=null){c.removeAttribute(a);}}}function getImisScopeElement(c,a){if(a==null||a.toLowerCase()==c.tagName.toLowerCase()){return c;}if(c.childNodes==null||c.childNodes.length==0){return null;}for(var b=0;b<c.childNodes.length;b++){var e=c.childNodes[b];var d=getImisScopeElement(e,a);if(d!=null){return d;}}return null;}function isArray(a){if(a.constructor.toString().indexOf("Array")==-1){return false;}else{return true;}}function extendSelectionIfNecessary(h){if(h.getSelectionHtml()==null){return null;}if(h.get_document().selection==null){return h.getSelectionHtml();}var g=h.get_document().selection.createRange();if(g==null){return null;}var b=g.parentElement();var f=g.duplicate();f.moveToElementText(b);f.select();if(b.childNodes.length==1){var e=b.childNodes[0];if(e.nodeName!="#text"){g.moveToElementText(b);g.select();}}else{if(b.childNodes.length>1){var d;var c;var a;for(d=0;d<b.childNodes.length;++d){e=b.childNodes[d];if(e.nodeName!="#text"){f=g.duplicate();f.moveToElementText(e);c=g.compareEndPoints("StartToStart",f);if(c==1){a=g.compareEndPoints("StartToEnd",f);if(a<1){g.setEndPoint("StartToStart",f);}}else{break;}}}for(d=0;d<b.childNodes.length;++d){e=b.childNodes[d];if(e.nodeName!="#text"){f=g.duplicate();f.moveToElementText(e);c=g.compareEndPoints("EndToStart",f);if(c==1){a=g.compareEndPoints("EndToEnd",f);if(a==-1){g.setEndPoint("EndToEnd",f);}}else{break;}}}g.select();}}return g;}function findAncestorElement(d,a){var b;if(isArray(a)){for(var c=0;c<a.length;++c){a[c]=a[c].toLowerCase();}b=function(f){return jQuery.inArray(f,a)>-1;};}else{b=function(f){return a==null||a.toLowerCase()==e.tagName.toLowerCase();
};}var e=d;while(e!=null){if(e.tagName==null){break;}if(b(e.tagName.toLowerCase())){return e;}e=e.parentNode;}return null;}function createImisScopeElement(c,f,g){var e=c.createElement(f);var d="defaultId";if(g!=null&&g.length>0){d=g;}else{for(var a=1;a<200;a++){d=f+(c.getElementsByTagName(f).length+a);d=d.replace(/:/gi,"_");var b=c.getElementById(d)==null?true:false;if(b){break;}}}e.id=d;e.setAttribute("runat","server");return e;}function createLabelElement(b,a,c){var d=createImisScopeElement(b,IMIS_TAG_LABEL,a);updateLabelElement(d,c);return d;}function updateLabelElement(b,a){setImisAttribute(b,"BoundPropertyName",a.BoundPropertyName);setImisAttribute(b,"DisplayMask",a.DisplayMask);setImisAttribute(b,"DisplayValue",a.DisplayValue);b.innerHTML="["+a.BoundPropertyCaption+"]";}function labelToolCallbackFunction(e,b){if(b==null){return;}var d=theEditor.getSelection();var a=d.GetParentElement();var c=findAncestorElement(a,IMIS_TAG_LABEL);if(c==null){c=createLabelElement(theEditor.get_document(),null,b);theEditor.pasteHtml(" "+c.outerHTML+" ");}else{updateLabelElement(c,b);}}function createLinkElement(c,d,a){var b=createImisScopeElement(c,IMIS_TAG_HYPERLINK,d);b.setAttribute("NavigateAutomatically","true");b.setAttribute("IgnoreChildren","true");updateLinkElement(b,a);return b;}function updateLinkElement(b,c){setImisAttribute(b,"BoundPropertyName",c.BoundPropertyName);setImisAttribute(b,"Text",c.Text);setImisAttribute(b,"DisplayMask",c.DisplayMask);var a=(c.Text!=null&&c.Text.length>0)?c.Text:"["+c.BoundPropertyCaption+"]";b.innerHTML="<a href=''>"+a+"</a>";}function linkToolCallbackFunction(b,c){if(c==null){return;}var a=theEditor.getSelection();var d=a.GetParentElement();var e=findAncestorElement(d,IMIS_TAG_HYPERLINK);if(e==null){var f=findAncestorElement(d,IMIS_TAG_LABEL);if(f!=null){e=createLinkElement(theEditor.get_document(),null,c);f.parentNode.replaceChild(e,f);}else{e=createLinkElement(theEditor.get_document(),null,c);theEditor.pasteHtml(" "+e.outerHTML+" ");}}else{updateLinkElement(e,c);
}}function createIfBlock(e,d,h,f,a){var c=createImisScopeElement(e,IMIS_TAG_IFBLOCK,d);var g="";if(a==null||!a){g+="<span class='IfBlockStart'>{</span>";}g+="<"+IMIS_TAG_IFBLOCK_BODY+" runat='server'>";var b="</"+IMIS_TAG_IFBLOCK_BODY+">";if(a==null||!a){b+="<span class='IfBlockEnd'>}</span>";}c.innerHTML=g+f+b;updateIfBlock(c,h);return c;}function updateIfBlock(b,a){setImisAttribute(b,"TestCompareValue1",a.TestCompareValue1);setImisAttribute(b,"TestCompareValue2",a.TestCompareValue2);setImisAttribute(b,"TestCompareType",a.TestCompareType);setImisAttribute(b,"TestDataType",a.TestDataType);}function conditionalDisplayCallbackFunction(e,b){if(b==null){return;}var d=theEditor.getSelection();var a=d.GetParentElement();var c=findAncestorElement(a,IMIS_TAG_IFBLOCK);if(c==null){c=createIfBlock(theEditor.get_document(),null,b,d.GetHtmlText());theEditor.pasteHtml(" "+c.outerHTML+" ");}else{updateIfBlock(c,b);}}if(typeof(Sys)!=="undefined"){Sys.Application.notifyScriptLoaded();}var CVM_SOURCEOPTION_LITERAL=new Array("literal","None (Static Text)");var CVM_SOURCEOPTION_PROPERTY=new Array("panel","Property");var CVM_SOURCEOPTION_CONTEXT=new Array("currentcontext","Current Context");var CVM_SOURCEOPTION_REQUEST=new Array("request","Current Request");var CVM_SOURCEOPTION_SESSION=new Array("session","Current Session");var CVM_SOURCEOPTION_SYSTEMCONFIG=new Array("systemconfig","System Configuration");var CVM_SOURCEOPTIONS=new Array(CVM_SOURCEOPTION_LITERAL,CVM_SOURCEOPTION_PROPERTY,CVM_SOURCEOPTION_CONTEXT,CVM_SOURCEOPTION_REQUEST,CVM_SOURCEOPTION_SESSION,CVM_SOURCEOPTION_SYSTEMCONFIG);function CompareValueManager(a,c){this.Source="literal";this.Property=null;this.Value=null;this.StaticValue=a!=null?a:"";if(c!=null){this.StaticValueControlID=c;this.StaticValueControl=$get(c);this.SourceControl=$get(c+"Source");this.PropertyControl=$get(c+"PropertySelect");this.ValueControl=$get(c+"Text");}if(a!=null&&a.length>0&&a.substr(0,2)=="$("){var b=a.substring(2,a.length-1).split(".");this.Source=b[0];
if(b[0]=="panel"){this.Property=b[1];}else{this.Value=b[1];}}this.initialize=function(){for(var e=0;e<CVM_SOURCEOPTIONS.length;e++){var d=this.SourceControl.ownerDocument.createElement("option");d.value=CVM_SOURCEOPTIONS[e][0];d.text=CVM_SOURCEOPTIONS[e][1];try{this.SourceControl.add(d,null);}catch(f){this.SourceControl.add(d);}}this.StaticValueControl.value=this.StaticValue;this.SourceControl.value=this.Source;this.PropertyControl.value=this.Property;this.ValueControl.value=this.Value!=null?this.Value:"";this.SourceControl.onchange=Anything_Changed;this.SourceControl.CompareValueManager=this;this.PropertyControl.onchange=Anything_Changed;this.PropertyControl.CompareValueManager=this;this.ValueControl.onkeyup=Anything_Changed;this.ValueControl.CompareValueManager=this;this.updateDisplay();};this.updateDisplay=function(){this.StaticValueControl.style.display="none";this.PropertyControl.style.display="none";this.ValueControl.style.display="none";switch(this.Source){case"literal":this.StaticValueControl.style.display="inline";break;case"panel":this.PropertyControl.style.display="inline";break;default:this.ValueControl.style.display="inline";break;}};this.updateStaticValue=function(){var d="";if(this.Source!="literal"){d="$("+this.Source+".";if(this.Source=="panel"){d+=this.Property;}else{d+=this.Value;}d+=")";}this.StaticValue=d;};this.update=function(){this.StaticValue=this.StaticValueControl.value;this.Source=this.SourceControl.value;this.Property=this.PropertyControl.value;this.Value=this.ValueControl.value;this.updateStaticValue();this.StaticValueControl.value=this.StaticValue;this.updateDisplay();};}function Anything_Changed(a){var b=eventSource(a);b.CompareValueManager.update();return false;}function atvSelect(d){var c=getParent(d);var e=document.getElementById(c.spanId);var b=getParent(c);if(!c.navigateurl||c.navigateurl.length==0){return;}while(b.tagName!="treeview"&&b.tagName!="body"){b=getParent(b);}if(b.selectedIndex>=0){var a=document.getElementById(b.id+"Node"+b.selectedIndex);a.selected="false";document.getElementById(a.spanId).className=document.getElementById(a.spanId).defaultClass;b.selectedIndex="-1";}b.selectedIndex=c.index;document.getElementById(c.treeviewId+"SelectedIndex").value=c.index;document.getElementById(c.treeviewId+"SelectedKey").value=c.key;c.selected="true";if(e.selectedClass!=""){e.className=e.selectedClass;}if(c.target&&c.target.length>0){document.frames(c.target).location=c.navigateurl;}else{document.location=c.navigateurl;}}function atvOpenClose(c){var b=getParent(c);var a=document.getElementById(b.treeviewId+"OpenNodes");if(c.state=="open"){for(i=0;i<b.children.length;i++){if(b.children[i].tagName=="treenode"){b.children[i].style.display="none";}}c.state="close";c.src=c.src.replace("minus","plus");var d=a.value.split(",");for(i=0;i<d.length;i++){if(d[i]==b.index){d.splice(i,1);break;}}a.value=d.join();}else{if(c.state=="close"){for(i=0;i<b.children.length;i++){if(b.children[i].tagName=="treenode"){b.children[i].style.display="block";}}c.state="open";c.src=c.src.replace("plus","minus");if(a.value.length>0){a.value=a.value+",";}a.value=a.value+b.index;}}}function atvSetStyle(d,b){var c=getParent(d);var e=document.getElementById(c.spanId);var a;if(c.selected=="false"){if(b=="HoverOut"&&e.defaultClass!=""){e.className=e.defaultClass;}else{if(b=="Hover"&&e.hoverClass!=""){e.className=e.hoverClass;}}}}+function(e){var a=function(f,g){this.$element=e(f);this.$indicators=this.$element.find(".carousel-indicators");this.options=g;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this));this.options.pause=="hover"&&!("ontouchstart" in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this));};a.VERSION="3.3.5";a.TRANSITION_DURATION=600;a.DEFAULTS={interval:5000,pause:"hover",wrap:true,keyboard:true};a.prototype.keydown=function(f){if(/input|textarea/i.test(f.target.tagName)){return;}switch(f.which){case 37:this.prev();break;case 39:this.next();break;default:return;}f.preventDefault();};a.prototype.cycle=function(f){f||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval));return this;};a.prototype.getItemIndex=function(f){this.$items=f.parent().children(".item");return this.$items.index(f||this.$active);};a.prototype.getItemForDirection=function(i,g){var f=this.getItemIndex(g);var j=(i=="prev"&&f===0)||(i=="next"&&f==(this.$items.length-1));if(j&&!this.options.wrap){return g;}var k=i=="prev"?-1:1;var h=(f+k)%this.$items.length;return this.$items.eq(h);};a.prototype.to=function(h){var f=this;var g=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(h>(this.$items.length-1)||h<0){return;}if(this.sliding){return this.$element.one("slid.bs.carousel",function(){f.to(h);});}if(g==h){return this.pause().cycle();}return this.slide(h>g?"next":"prev",this.$items.eq(h));};a.prototype.pause=function(f){f||(this.paused=true);if(this.$element.find(".next, .prev").length&&e.support.transition){this.$element.trigger(e.support.transition.end);this.cycle(true);}this.interval=clearInterval(this.interval);return this;};a.prototype.next=function(){if(this.sliding){return;
}return this.slide("next");};a.prototype.prev=function(){if(this.sliding){return;}return this.slide("prev");};a.prototype.slide=function(k,h){var f=this.$element.find(".item.active");var n=h||this.getItemForDirection(k,f);var j=this.interval;var l=k=="next"?"left":"right";var g=this;if(n.hasClass("active")){return(this.sliding=false);}var m=n[0];var p=e.Event("slide.bs.carousel",{relatedTarget:m,direction:l});this.$element.trigger(p);if(p.isDefaultPrevented()){return;}this.sliding=true;j&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");var o=e(this.$indicators.children()[this.getItemIndex(n)]);o&&o.addClass("active");}var i=e.Event("slid.bs.carousel",{relatedTarget:m,direction:l});if(e.support.transition&&this.$element.hasClass("slide")){n.addClass(k);n[0].offsetWidth;f.addClass(l);n.addClass(l);f.one("bsTransitionEnd",function(){n.removeClass([k,l].join(" ")).addClass("active");f.removeClass(["active",l].join(" "));g.sliding=false;setTimeout(function(){g.$element.trigger(i);},0);}).emulateTransitionEnd(a.TRANSITION_DURATION);}else{f.removeClass("active");n.addClass("active");this.sliding=false;this.$element.trigger(i);}j&&this.cycle();return this;};function c(f){return this.each(function(){var j=e(this);var g=j.data("bs.carousel");var i=e.extend({},a.DEFAULTS,j.data(),typeof f=="object"&&f);var h=typeof f=="string"?f:i.slide;if(!g){j.data("bs.carousel",(g=new a(this,i)));}if(typeof f=="number"){g.to(f);}else{if(h){g[h]();}else{if(i.interval){g.pause().cycle();}}}});}var b=e.fn.carousel;e.fn.carousel=c;e.fn.carousel.Constructor=a;e.fn.carousel.noConflict=function(){e.fn.carousel=b;return this;};var d=function(j){var f;var k=e(this);var g=e(k.attr("data-target")||(f=k.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,""));if(!g.hasClass("carousel")){return;}var h=e.extend({},g.data(),k.data());var i=k.attr("data-slide-to");if(i){h.interval=false;}c.call(g,h);if(i){g.data("bs.carousel").to(i);}j.preventDefault();};e(document).on("click.bs.carousel.data-api","[data-slide]",d).on("click.bs.carousel.data-api","[data-slide-to]",d);
e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var f=e(this);c.call(f,f.data());});});}(jQuery);+function(c){var a=function(d,e){this.$element=c(d);this.options=c.extend({},a.DEFAULTS,e);this.transitioning=null;if(this.options.parent){this.$parent=c(this.options.parent);}if(this.options.toggle){this.toggle();}};a.DEFAULTS={toggle:true};a.prototype.dimension=function(){var d=this.$element.hasClass("width");return d?"width":"height";};a.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in")){return;}var d=c.Event("show.bs.collapse");this.$element.trigger(d);if(d.isDefaultPrevented()){return;}var f=this.$parent&&this.$parent.find("> .panel > .in");if(f&&f.length){var e=f.data("bs.collapse");if(e&&e.transitioning){return;}f.collapse("hide");e||f.data("bs.collapse",null);}var h=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[h](0);this.transitioning=1;var i=function(){this.$element.removeClass("collapsing").addClass("collapse in")[h]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse");};if(!c.support.transition){return i.call(this);}var g=c.camelCase(["scroll",h].join("-"));this.$element.one(c.support.transition.end,c.proxy(i,this)).emulateTransitionEnd(350)[h](this.$element[0][g]);};a.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in")){return;}var e=c.Event("hide.bs.collapse");this.$element.trigger(e);if(e.isDefaultPrevented()){return;}var f=this.dimension();this.$element[f](this.$element[f]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var d=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse");};if(!c.support.transition){return d.call(this);}this.$element[f](0).one(c.support.transition.end,c.proxy(d,this)).emulateTransitionEnd(350);};a.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]();};var b=c.fn.collapse;c.fn.collapse=function(d){return this.each(function(){var g=c(this);var e=g.data("bs.collapse");
var f=c.extend({},a.DEFAULTS,g.data(),typeof d=="object"&&d);if(!e&&f.toggle&&d=="show"){d=!d;}if(!e){g.data("bs.collapse",(e=new a(this,f)));}if(typeof d=="string"){e[d]();}});};c.fn.collapse.Constructor=a;c.fn.collapse.noConflict=function(){c.fn.collapse=b;return this;};c(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(h){var n=c(this),f;var l=n.attr("data-target")||h.preventDefault()||(f=n.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"");var g=c(l);var i=g.data("bs.collapse");var j=i?"toggle":n.data();var k=n.attr("data-parent");var d=k&&c(k);if(!i||!i.transitioning){if(d){var m=d.find('[data-toggle=collapse][data-parent="'+k+'"]').not(n);if(m){m.addClass("collapsed");}}n[g.hasClass("in")?"addClass":"removeClass"]("collapsed");}g.collapse(j);});}(jQuery);+function(c){var h=".dropdown-backdrop";var a='[data-toggle="dropdown"]';var g=function(i){c(i).on("click.bs.dropdown",this.toggle);};g.VERSION="3.3.2";g.prototype.toggle=function(i){var m=c(this);if(m.is(".disabled, :disabled")){return;}var k=b(m);var l=k.hasClass("open");e();if(!l){if("ontouchstart" in document.documentElement&&!k.closest(".navbar-nav").length){c('<div class="dropdown-backdrop"/>').insertAfter(c(this)).on("click",e);}var j={relatedTarget:this};k.trigger(i=c.Event("show.bs.dropdown",j));if(i.isDefaultPrevented()){return;}m.trigger("focus").attr("aria-expanded","true");k.toggleClass("open").trigger("shown.bs.dropdown",j);}return false;};g.prototype.keydown=function(m){if(!/(38|40|27|32)/.test(m.which)||/input|textarea/i.test(m.target.tagName)){return;}var o=c(this);m.preventDefault();m.stopPropagation();if(o.is(".disabled, :disabled")){return;}var l=b(o);var i=l.hasClass("open");if((!i&&m.which!=27)||(i&&m.which==27)){if(m.which==27){l.find(a).trigger("focus");}return o.trigger("click");}var j=" li:not(.divider):visible a";var k=l.find('[role="menu"]'+j+', [role="listbox"]'+j);if(!k.length){return;}var n=k.index(m.target);if(m.which==38&&n>0){n--;}if(m.which==40&&n<k.length-1){n++;}if(!~n){n=0;}k.eq(n).trigger("focus");};function e(i){if(i&&i.which===3){return;}c(h).remove();c(a).each(function(){var l=c(this);var j=b(l);var k={relatedTarget:this};if(!j.hasClass("open")){return;}j.trigger(i=c.Event("hide.bs.dropdown",k));if(i.isDefaultPrevented()){return;}l.attr("aria-expanded","false");j.removeClass("open").trigger("hidden.bs.dropdown",k);});}function b(k){var j=k.attr("data-target");if(!j){j=k.attr("href");j=j&&/#[A-Za-z]/.test(j)&&j.replace(/.*(?=#[^\s]*$)/,"");}var i=j&&c(j);return i&&i.length?i:k.parent();}function f(i){return this.each(function(){var k=c(this);var j=k.data("bs.dropdown");if(!j){k.data("bs.dropdown",(j=new g(this)));}if(typeof i=="string"){j[i].call(k);}});}var d=c.fn.dropdown;c.fn.dropdown=f;c.fn.dropdown.Constructor=g;c.fn.dropdown.noConflict=function(){c.fn.dropdown=d;
return this;};c(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(i){i.stopPropagation();}).on("click.bs.dropdown.data-api",a,g.prototype.toggle).on("keydown.bs.dropdown.data-api",a,g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',g.prototype.keydown);}(jQuery);+function(a){function b(){var d=document.createElement("bootstrap");var c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var e in c){if(d.style[e]!==undefined){return{end:c[e]};}}return false;}a.fn.emulateTransitionEnd=function(f){var d=false;var e=this;a(this).one("bsTransitionEnd",function(){d=true;});var c=function(){if(!d){a(e).trigger(a.support.transition.end);}};setTimeout(c,f);return this;};a(function(){a.support.transition=b();if(!a.support.transition){return;}a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(c){if(a(c.target).is(this)){return c.handleObj.handler.apply(this,arguments);}}};});}(jQuery);function BSAShowSelectedSubPanel(e){var c=e.getElementsByTagName("SELECT");var b;for(b=0;b<c.length;b++){if(c[b].name.substr(c[b].name.length-9,9)=="PanelList"){var d=c[b];if(d.selectedIndex==-1){return;}var f=d.options[d.selectedIndex].value;panelList=e.getElementsByTagName("DIV");for(j=0;j<panelList.length;j++){var g=panelList[j].getAttribute("name");var a=panelList[j].getAttribute("key");if(g=="SinglePanel"&&a!=f){panelList[j].style.display="none";}else{if(g=="SinglePanel"&&a==f){panelList[j].style.display="block";}}}}}}function BSAPanelSelectChanged(b){var a=findAncestor(b,"DIV");BSAShowSelectedSubPanel(a);}(function(){var d,g,b,a,f,e={}.hasOwnProperty,c=function(j,h){for(var k in h){if(e.call(h,k)){j[k]=h[k];}}function i(){this.constructor=j;}i.prototype=h.prototype;j.prototype=new i();j.__super__=h.prototype;return j;};a=(function(){function h(){this.options_index=0;this.parsed=[];}h.prototype.add_node=function(i){if(i.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(i);}else{return this.add_option(i);}};h.prototype.add_group=function(k){var j,m,l,n,o,i;j=this.parsed.length;this.parsed.push({array_index:j,group:true,label:this.escapeExpression(k.label),children:0,disabled:k.disabled});o=k.childNodes;i=[];for(l=0,n=o.length;l<n;l++){m=o[l];i.push(this.add_option(m,j,k.disabled));}return i;};h.prototype.add_option=function(j,k,i){if(j.nodeName.toUpperCase()==="OPTION"){if(j.text!==""){if(k!=null){this.parsed[k].children+=1;}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:j.value,text:j.text,html:j.innerHTML,selected:j.selected,disabled:i===true?i:j.disabled,group_array_index:k,classes:j.className,style:j.style.cssText});}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true});}return this.options_index+=1;}};h.prototype.escapeExpression=function(k){var j,i;if((k==null)||k===false){return"";}if(!/[\&\<\>\"\'\`]/.test(k)){return k;}j={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};i=/&(?!\w+;)|[\<\>\"\'\`]/g;return k.replace(i,function(l){return j[l]||"&amp;";});};return h;})();a.select_to_array=function(m){var k,i,h,j,l;i=new a();l=m.childNodes;for(h=0,j=l.length;h<j;h++){k=l[h];i.add_node(k);}return i.parsed;};g=(function(){function h(j,i){this.form_field=j;this.options=i!=null?i:{};if(!h.browser_is_supported()){return;}this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers();}h.prototype.set_default_values=function(){var i=this;this.click_test_action=function(j){return i.test_active_click(j);
};this.activate_action=function(j){return i.activate_field(j);};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=(this.options.allow_single_deselect!=null)&&(this.form_field.options[0]!=null)&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.group_search=this.options.group_search!=null?this.options.group_search:true;this.search_contains=this.options.search_contains||false;this.single_backstroke_delete=this.options.single_backstroke_delete!=null?this.options.single_backstroke_delete:true;this.max_selected_options=this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||false;this.display_selected_options=this.options.display_selected_options!=null?this.options.display_selected_options:true;return this.display_disabled_options=this.options.display_disabled_options!=null?this.options.display_disabled_options:true;};h.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder");}else{if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||h.default_multiple_text;}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||h.default_single_text;}}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||h.default_no_result_text;};h.prototype.mouse_enter=function(){return this.mouse_on_container=true;};h.prototype.mouse_leave=function(){return this.mouse_on_container=false;};h.prototype.input_focus=function(j){var i=this;
if(this.is_multiple){if(!this.active_field){return setTimeout((function(){return i.container_mousedown();}),50);}}else{if(!this.active_field){return this.activate_field();}}};h.prototype.input_blur=function(j){var i=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout((function(){return i.blur_test();}),100);}};h.prototype.results_option_build=function(k){var n,j,l,m,i;n="";i=this.results_data;for(l=0,m=i.length;l<m;l++){j=i[l];if(j.group){n+=this.result_add_group(j);}else{n+=this.result_add_option(j);}if(k!=null?k.first:void 0){if(j.selected&&this.is_multiple){this.choice_build(j);}else{if(j.selected&&!this.is_multiple){this.single_set_selected_text(j.text);}}}}return n;};h.prototype.result_add_option=function(k){var j,i;if(!k.search_match){return"";}if(!this.include_option_in_results(k)){return"";}j=[];if(!k.disabled&&!(k.selected&&this.is_multiple)){j.push("active-result");}if(k.disabled&&!(k.selected&&this.is_multiple)){j.push("disabled-result");}if(k.selected){j.push("result-selected");}if(k.group_array_index!=null){j.push("group-option");}if(k.classes!==""){j.push(k.classes);}i=k.style.cssText!==""?' style="'+k.style+'"':"";return'<li class="'+(j.join(" "))+'"'+i+' data-option-array-index="'+k.array_index+'">'+k.search_text+"</li>";};h.prototype.result_add_group=function(i){if(!(i.search_match||i.group_match)){return"";}if(!(i.active_options>0)){return"";}return'<li class="group-result">'+i.search_text+"</li>";};h.prototype.results_update_field=function(){this.set_default_text();if(!this.is_multiple){this.results_reset_cleanup();}this.result_clear_highlight();this.result_single_selected=null;this.results_build();if(this.results_showing){return this.winnow_results();}};h.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide();}else{return this.results_show();}};h.prototype.results_search=function(i){if(this.results_showing){return this.winnow_results();}else{return this.results_show();}};h.prototype.winnow_results=function(){var i,p,u,k,l,o,m,q,j,r,s,n,t;
this.no_results_clear();l=0;m=this.get_search_text();i=m.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");k=this.search_contains?"":"^";u=new RegExp(k+i,"i");r=new RegExp(i,"i");t=this.results_data;for(s=0,n=t.length;s<n;s++){p=t[s];p.search_match=false;o=null;if(this.include_option_in_results(p)){if(p.group){p.group_match=false;p.active_options=0;}if((p.group_array_index!=null)&&this.results_data[p.group_array_index]){o=this.results_data[p.group_array_index];if(o.active_options===0&&o.search_match){l+=1;}o.active_options+=1;}if(!(p.group&&!this.group_search)){p.search_text=p.group?p.label:p.html;p.search_match=this.search_string_match(p.search_text,u);if(p.search_match&&!p.group){l+=1;}if(p.search_match){if(m.length){q=p.search_text.search(r);j=p.search_text.substr(0,q+m.length)+"</em>"+p.search_text.substr(q+m.length);p.search_text=j.substr(0,q)+"<em>"+j.substr(q);}if(o!=null){o.group_match=true;}}else{if((p.group_array_index!=null)&&this.results_data[p.group_array_index].search_match){p.search_match=true;}}}}}this.result_clear_highlight();if(l<1&&m.length){this.update_results_content("");return this.no_results(m);}else{this.update_results_content(this.results_option_build());return this.winnow_results_set_highlight();}};h.prototype.search_string_match=function(l,j){var i,k,n,m;if(j.test(l)){return true;}else{if(this.enable_split_word_search&&(l.indexOf(" ")>=0||l.indexOf("[")===0)){k=l.replace(/\[|\]/g,"").split(" ");if(k.length){for(n=0,m=k.length;n<m;n++){i=k[n];if(j.test(i)){return true;}}}}}};h.prototype.choices_count=function(){var k,i,j,l;if(this.selected_option_count!=null){return this.selected_option_count;}this.selected_option_count=0;l=this.form_field.options;for(i=0,j=l.length;i<j;i++){k=l[i];if(k.selected){this.selected_option_count+=1;}}return this.selected_option_count;};h.prototype.choices_click=function(i){i.preventDefault();if(!(this.results_showing||this.is_disabled)){return this.results_show();}};h.prototype.keyup_checker=function(k){var j,i;j=(i=k.which)!=null?i:k.keyCode;
this.search_field_scale();switch(j){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){return this.keydown_backstroke();}else{if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search();}}break;case 13:k.preventDefault();if(this.results_showing){return this.result_select(k);}break;case 27:if(this.results_showing){this.results_hide();}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search();}};h.prototype.container_width=function(){if(this.options.width!=null){return this.options.width;}else{return""+this.form_field.offsetWidth+"px";}};h.prototype.include_option_in_results=function(i){if(this.is_multiple&&(!this.display_selected_options&&i.selected)){return false;}if(!this.display_disabled_options&&i.disabled){return false;}if(i.empty){return false;}return true;};h.browser_is_supported=function(){if(window.navigator.appName==="Microsoft Internet Explorer"){return document.documentMode>=8;}if(/iP(od|hone)/i.test(window.navigator.userAgent)){return false;}if(/Android/i.test(window.navigator.userAgent)){if(/Mobile/i.test(window.navigator.userAgent)){return false;}}return true;};h.default_multiple_text="Select Some Options";h.default_single_text="Select an Option";h.default_no_result_text="No results match";return h;})();d=jQuery;d.fn.extend({chosen:function(h){if(!g.browser_is_supported()){return this;}return this.each(function(j){var k,i;k=d(this);i=k.data("chosen");if(h==="destroy"&&i){i.destroy();}else{if(!i){k.data("chosen",new b(this,h));}}});}});b=(function(i){c(h,i);function h(){f=h.__super__.constructor.apply(this,arguments);return f;}h.prototype.setup=function(){this.form_field_jq=d(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;return this.is_rtl=this.form_field_jq.hasClass("chosen-rtl");};h.prototype.set_up_html=function(){var k,j;k=["chosen-container"];k.push("chosen-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className){k.push(this.form_field.className);
}if(this.is_rtl){k.push("chosen-rtl");}j={"class":k.join(" "),style:"width: "+(this.container_width())+";",title:this.form_field.title};if(this.form_field.id.length){j.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen";}this.container=d("<div />",j);if(this.is_multiple){this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>');}else{this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>');}this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chosen-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chosen-choices").first();this.search_container=this.container.find("li.search-field").first();}else{this.search_container=this.container.find("div.chosen-search").first();this.selected_item=this.container.find(".chosen-single").first();}this.results_build();this.set_tab_index();this.set_label_behavior();return this.form_field_jq.trigger("chosen:ready",{chosen:this});};h.prototype.register_observers=function(){var j=this;this.container.bind("mousedown.chosen",function(k){j.container_mousedown(k);});this.container.bind("mouseup.chosen",function(k){j.container_mouseup(k);});this.container.bind("mouseenter.chosen",function(k){j.mouse_enter(k);});this.container.bind("mouseleave.chosen",function(k){j.mouse_leave(k);});this.search_results.bind("mouseup.chosen",function(k){j.search_results_mouseup(k);
});this.search_results.bind("mouseover.chosen",function(k){j.search_results_mouseover(k);});this.search_results.bind("mouseout.chosen",function(k){j.search_results_mouseout(k);});this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(k){j.search_results_mousewheel(k);});this.form_field_jq.bind("chosen:updated.chosen",function(k){j.results_update_field(k);});this.form_field_jq.bind("chosen:activate.chosen",function(k){j.activate_field(k);});this.form_field_jq.bind("chosen:open.chosen",function(k){j.container_mousedown(k);});this.search_field.bind("blur.chosen",function(k){j.input_blur(k);});this.search_field.bind("keyup.chosen",function(k){j.keyup_checker(k);});this.search_field.bind("keydown.chosen",function(k){j.keydown_checker(k);});this.search_field.bind("focus.chosen",function(k){j.input_focus(k);});if(this.is_multiple){return this.search_choices.bind("click.chosen",function(k){j.choices_click(k);});}else{return this.container.bind("click.chosen",function(k){k.preventDefault();});}};h.prototype.destroy=function(){d(document).unbind("click.chosen",this.click_test_action);if(this.search_field[0].tabIndex){this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex;}this.container.remove();this.form_field_jq.removeData("chosen");return this.form_field_jq.show();};h.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chosen-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus.chosen",this.activate_action);}return this.close_field();}else{this.container.removeClass("chosen-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus.chosen",this.activate_action);}}};h.prototype.container_mousedown=function(j){if(!this.is_disabled){if(j&&j.type==="mousedown"&&!this.results_showing){j.preventDefault();}if(!((j!=null)&&(d(j.target)).hasClass("search-choice-close"))){if(!this.active_field){if(this.is_multiple){this.search_field.val("");
}d(document).bind("click.chosen",this.click_test_action);this.results_show();}else{if(!this.is_multiple&&j&&((d(j.target)[0]===this.selected_item[0])||d(j.target).parents("a.chosen-single").length)){j.preventDefault();this.results_toggle();}}return this.activate_field();}}};h.prototype.container_mouseup=function(j){if(j.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(j);}};h.prototype.search_results_mousewheel=function(m){var k,j,l;k=-((j=m.originalEvent)!=null?j.wheelDelta:void 0)||((l=m.originialEvent)!=null?l.detail:void 0);if(k!=null){m.preventDefault();if(m.type==="DOMMouseScroll"){k=k*40;}return this.search_results.scrollTop(k+this.search_results.scrollTop());}};h.prototype.blur_test=function(j){if(!this.active_field&&this.container.hasClass("chosen-container-active")){return this.close_field();}};h.prototype.close_field=function(){d(document).unbind("click.chosen",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();return this.search_field_scale();};h.prototype.activate_field=function(){this.container.addClass("chosen-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus();};h.prototype.test_active_click=function(j){if(this.container.is(d(j.target).closest(".chosen-container"))){return this.active_field=true;}else{return this.close_field();}};h.prototype.results_build=function(){this.parsing=true;this.selected_option_count=null;this.results_data=a.select_to_array(this.form_field);if(this.is_multiple){this.search_choices.find("li.search-choice").remove();}else{if(!this.is_multiple){this.single_set_selected_text();if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.search_field[0].readOnly=true;this.container.addClass("chosen-container-single-nosearch");}else{this.search_field[0].readOnly=false;this.container.removeClass("chosen-container-single-nosearch");
}}}this.update_results_content(this.results_option_build({first:true}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=false;};h.prototype.result_do_highlight=function(o){var m,l,k,n,j;if(o.length){this.result_clear_highlight();this.result_highlight=o;this.result_highlight.addClass("highlighted");k=parseInt(this.search_results.css("maxHeight"),10);j=this.search_results.scrollTop();n=k+j;l=this.result_highlight.position().top+this.search_results.scrollTop();m=l+this.result_highlight.outerHeight();if(m>=n){return this.search_results.scrollTop((m-k)>0?m-k:0);}else{if(l<j){return this.search_results.scrollTop(l);}}}};h.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted");}return this.result_highlight=null;};h.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false;}this.container.addClass("chosen-with-drop");this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this});this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results();};h.prototype.update_results_content=function(j){return this.search_results.html(j);};h.prototype.results_hide=function(){if(this.results_showing){this.result_clear_highlight();this.container.removeClass("chosen-with-drop");this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this});}return this.results_showing=false;};h.prototype.set_tab_index=function(j){var k;if(this.form_field.tabIndex){k=this.form_field.tabIndex;this.form_field.tabIndex=-1;return this.search_field[0].tabIndex=k;}};h.prototype.set_label_behavior=function(){var j=this;this.form_field_label=this.form_field_jq.parents("label");if(!this.form_field_label.length&&this.form_field.id.length){this.form_field_label=d("label[for='"+this.form_field.id+"']");}if(this.form_field_label.length>0){return this.form_field_label.bind("click.chosen",function(k){if(j.is_multiple){return j.container_mousedown(k);
}else{return j.activate_field();}});}};h.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices_count()<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default");}else{this.search_field.val("");return this.search_field.removeClass("default");}};h.prototype.search_results_mouseup=function(k){var j;j=d(k.target).hasClass("active-result")?d(k.target):d(k.target).parents(".active-result").first();if(j.length){this.result_highlight=j;this.result_select(k);return this.search_field.focus();}};h.prototype.search_results_mouseover=function(k){var j;j=d(k.target).hasClass("active-result")?d(k.target):d(k.target).parents(".active-result").first();if(j){return this.result_do_highlight(j);}};h.prototype.search_results_mouseout=function(j){if(d(j.target).hasClass("active-result"||d(j.target).parents(".active-result").first())){return this.result_clear_highlight();}};h.prototype.choice_build=function(k){var m,l,j=this;m=d("<li />",{"class":"search-choice"}).html("<span>"+k.html+"</span>");if(k.disabled){m.addClass("search-choice-disabled");}else{l=d("<a />",{"class":"search-choice-close","data-option-array-index":k.array_index});l.bind("click.chosen",function(n){return j.choice_destroy_link_click(n);});m.append(l);}return this.search_container.before(m);};h.prototype.choice_destroy_link_click=function(j){j.preventDefault();j.stopPropagation();if(!this.is_disabled){return this.choice_destroy(d(j.target));}};h.prototype.choice_destroy=function(j){if(this.result_deselect(j[0].getAttribute("data-option-array-index"))){this.show_search_field_default();if(this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1){this.results_hide();}j.parents("li").first().remove();return this.search_field_scale();}};h.prototype.results_reset=function(){this.form_field.options[0].selected=true;this.selected_option_count=null;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();
this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide();}};h.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove();};h.prototype.result_select=function(m){var j,l,k;if(this.result_highlight){j=this.result_highlight;this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false;}if(this.is_multiple){j.removeClass("active-result");}else{if(this.result_single_selected){this.result_single_selected.removeClass("result-selected");k=this.result_single_selected[0].getAttribute("data-option-array-index");this.results_data[k].selected=false;}this.result_single_selected=j;}j.addClass("result-selected");l=this.results_data[j[0].getAttribute("data-option-array-index")];l.selected=true;this.form_field.options[l.options_index].selected=true;this.selected_option_count=null;if(this.is_multiple){this.choice_build(l);}else{this.single_set_selected_text(l.text);}if(!((m.metaKey||m.ctrlKey)&&this.is_multiple)){this.results_hide();}this.search_field.val("");if(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex){this.form_field_jq.trigger("change",{selected:this.form_field.options[l.options_index].value});}this.current_selectedIndex=this.form_field.selectedIndex;return this.search_field_scale();}};h.prototype.single_set_selected_text=function(j){if(j==null){j=this.default_text;}if(j===this.default_text){this.selected_item.addClass("chosen-default");}else{this.single_deselect_control_build();this.selected_item.removeClass("chosen-default");}return this.selected_item.find("span").text(j);};h.prototype.result_deselect=function(j){var k;k=this.results_data[j];if(!this.form_field.options[k.options_index].disabled){k.selected=false;this.form_field.options[k.options_index].selected=false;this.selected_option_count=null;this.result_clear_highlight();
if(this.results_showing){this.winnow_results();}this.form_field_jq.trigger("change",{deselected:this.form_field.options[k.options_index].value});this.search_field_scale();return true;}else{return false;}};h.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect){return;}if(!this.selected_item.find("abbr").length){this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>');}return this.selected_item.addClass("chosen-single-with-deselect");};h.prototype.get_search_text=function(){if(this.search_field.val()===this.default_text){return"";}else{return d("<div/>").text(d.trim(this.search_field.val())).html();}};h.prototype.winnow_results_set_highlight=function(){var k,j;j=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];k=j.length?j.first():this.search_results.find(".active-result").first();if(k!=null){return this.result_do_highlight(k);}};h.prototype.no_results=function(k){var j;j=d('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');j.find("span").first().html(k);return this.search_results.append(j);};h.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove();};h.prototype.keydown_arrow=function(){var j;if(this.results_showing&&this.result_highlight){j=this.result_highlight.nextAll("li.active-result").first();if(j){return this.result_do_highlight(j);}}else{return this.results_show();}};h.prototype.keyup_arrow=function(){var j;if(!this.results_showing&&!this.is_multiple){return this.results_show();}else{if(this.result_highlight){j=this.result_highlight.prevAll("li.active-result");if(j.length){return this.result_do_highlight(j.first());}else{if(this.choices_count()>0){this.results_hide();}return this.result_clear_highlight();}}}};h.prototype.keydown_backstroke=function(){var j;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke();}else{j=this.search_container.siblings("li.search-choice").last();
if(j.length&&!j.hasClass("search-choice-disabled")){this.pending_backstroke=j;if(this.single_backstroke_delete){return this.keydown_backstroke();}else{return this.pending_backstroke.addClass("search-choice-focus");}}}};h.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus");}return this.pending_backstroke=null;};h.prototype.keydown_checker=function(l){var k,j;k=(j=l.which)!=null?j:l.keyCode;this.search_field_scale();if(k!==8&&this.pending_backstroke){this.clear_backstroke();}switch(k){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(l);}this.mouse_on_container=false;break;case 13:l.preventDefault();break;case 38:l.preventDefault();this.keyup_arrow();break;case 40:l.preventDefault();this.keydown_arrow();break;}};h.prototype.search_field_scale=function(){var m,q,j,k,r,o,l,n,p;if(this.is_multiple){j=0;l=0;r="position:absolute; left: -1000px; top: -1000px; display:none;";o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(n=0,p=o.length;n<p;n++){k=o[n];r+=k+":"+this.search_field.css(k)+";";}m=d("<div />",{style:r});m.text(this.search_field.val());d("body").append(m);l=m.width()+25;m.remove();q=this.container.outerWidth();if(l>q-10){l=q-10;}return this.search_field.css({width:l+"px"});}};return h;})(g);}).call(this);/* Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.3
 *
 */
(function(a){a.fn.extend({slimScroll:function(d){var c={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:0.4,alwaysVisible:false,disableFadeOut:false,railVisible:false,railColor:"#333",railOpacity:0.2,railDraggable:true,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:false,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"};var b=a.extend(c,d);this.each(function(){var y,x,p,f,g,h,o,C,u="<div></div>",A=30,v=false;var e=a(this);if(e.parent().hasClass(b.wrapperClass)){var i=e.scrollTop();z=e.parent().find("."+b.barClass);w=e.parent().find("."+b.railClass);j();if(a.isPlainObject(d)){if("height" in d&&d.height=="auto"){e.parent().css("height","auto");e.css("height","auto");var B=e.parent().parent().height();e.parent().css("height",B);e.css("height",B);}if("scrollTo" in d){i=parseInt(b.scrollTo);}else{if("scrollBy" in d){i+=parseInt(b.scrollBy);}else{if("destroy" in d){z.remove();w.remove();e.unwrap();return;}}}l(i,false,true);}return;}else{if(a.isPlainObject(d)){if("destroy" in d){return;}}}b.height=(b.height=="auto")?e.parent().height():b.height;var r=a(u).addClass(b.wrapperClass).css({position:"relative",overflow:"hidden",width:b.width,height:b.height});e.css({overflow:"hidden",width:b.width,height:b.height});var w=a(u).addClass(b.railClass).css({width:b.size,height:"100%",position:"absolute",top:0,display:(b.alwaysVisible&&b.railVisible)?"block":"none","border-radius":b.railBorderRadius,background:b.railColor,opacity:b.railOpacity,zIndex:90});var z=a(u).addClass(b.barClass).css({background:b.color,width:b.size,position:"absolute",top:0,opacity:b.opacity,display:b.alwaysVisible?"block":"none","border-radius":b.borderRadius,BorderRadius:b.borderRadius,MozBorderRadius:b.borderRadius,WebkitBorderRadius:b.borderRadius,zIndex:99});
var k=(b.position=="right")?{right:b.distance}:{left:b.distance};w.css(k);z.css(k);e.wrap(r);e.parent().append(z);e.parent().append(w);if(b.railDraggable){z.bind("mousedown",function(D){var E=a(document);p=true;t=parseFloat(z.css("top"));pageY=D.pageY;E.bind("mousemove.slimscroll",function(F){currTop=t+F.pageY-pageY;z.css("top",currTop);l(0,z.position().top,false);});E.bind("mouseup.slimscroll",function(F){p=false;m();E.unbind(".slimscroll");});return false;}).bind("selectstart.slimscroll",function(D){D.stopPropagation();D.preventDefault();return false;});}w.hover(function(){n();},function(){m();});z.hover(function(){x=true;},function(){x=false;});e.hover(function(){y=true;n();m();},function(){y=false;m();});e.bind("touchstart",function(E,D){if(E.originalEvent.touches.length){g=E.originalEvent.touches[0].pageY;}});e.bind("touchmove",function(E){if(!v){E.originalEvent.preventDefault();}if(E.originalEvent.touches.length){var D=(g-E.originalEvent.touches[0].pageY)/b.touchScrollStep;l(D,true);g=E.originalEvent.touches[0].pageY;}});j();if(b.start==="bottom"){z.css({top:e.outerHeight()-z.outerHeight()});l(0,true);}else{if(b.start!=="top"){l(a(b.start).position().top,null,true);if(!b.alwaysVisible){z.hide();}}}s();function q(F){if(!y){return;}var F=F||window.event;var E=0;if(F.wheelDelta){E=-F.wheelDelta/120;}if(F.detail){E=F.detail/3;}var D=F.target||F.srcTarget||F.srcElement;if(a(D).closest("."+b.wrapperClass).is(e.parent())){l(E,true);}if(F.preventDefault&&!v){F.preventDefault();}if(!v){F.returnValue=false;}}function l(E,I,G){v=false;var H=E;var F=e.outerHeight()-z.outerHeight();if(I){H=parseInt(z.css("top"))+E*parseInt(b.wheelStep)/100*z.outerHeight();H=Math.min(Math.max(H,0),F);H=(E>0)?Math.ceil(H):Math.floor(H);z.css({top:H+"px"});}o=parseInt(z.css("top"))/(e.outerHeight()-z.outerHeight());H=o*(e[0].scrollHeight-e.outerHeight());if(G){H=E;var D=H/e[0].scrollHeight*e.outerHeight();D=Math.min(Math.max(D,0),F);z.css({top:D+"px"});}e.scrollTop(H);e.trigger("slimscrolling",~~H);
n();m();}function s(){if(window.addEventListener){this.addEventListener("DOMMouseScroll",q,false);this.addEventListener("mousewheel",q,false);}else{document.attachEvent("onmousewheel",q);}}function j(){h=Math.max((e.outerHeight()/e[0].scrollHeight)*e.outerHeight(),A);z.css({height:h+"px"});var D=h==e.outerHeight()?"none":"block";z.css({display:D});}function n(){j();clearTimeout(f);if(o==~~o){v=b.allowPageScroll;if(C!=o){var D=(~~o==0)?"top":"bottom";e.trigger("slimscroll",D);}}else{v=false;}C=o;if(h>=e.outerHeight()){v=true;return;}z.stop(true,true).fadeIn("fast");if(b.railVisible){w.stop(true,true).fadeIn("fast");}}function m(){if(!b.alwaysVisible){f=setTimeout(function(){if(!(b.disableFadeOut&&y)&&!x&&!p){z.fadeOut("slow");w.fadeOut("slow");}},1000);}}});return this;}});a.fn.extend({slimscroll:a.fn.slimScroll});})(jQuery);if(!this.JSON){this.JSON={};}(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);
if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());function isArray(a){if(a.constructor.toString().indexOf("Array")==-1){return false;}else{return true;}}function DocumentObject(h,e,j,b,d,f,a,l,i,k,g,c){this.HierarchyKey=h;this.DocumentVersionKey=e;this.DocumentTypeCode=j;this.DocumentName=b;this.RelatedDocumentVersionKey=d;this.RelatedDocumentTypeCode=f;this.RelatedHierarchyKey=a;this.ParentName=l;this.CanPaste=i;this.CanCopy=k;this.CanCut=g;this.IsContainer=c;}function ObjectBrowserClass(){this.EmptyGuid="";this.ClickedNode="";this.SelectRowLastId="";this.TreeViewOnLoad=function(sender,eventArgs){var treeview=$find(this.RadTreeViewClientID);if(treeview!=null){var selectedNode=treeview.get_selectedNode();selectedNode=treeview.findNodeByValue(this.ClickedNode);if(selectedNode!=null){var nodeElement=selectedNode.get_element();var treeViewElement=treeview.get_element();var nodeOffsetTop=treeview._getTotalOffsetTop(nodeElement);var treeOffsetTop=treeview._getTotalOffsetTop(treeViewElement);var relativeOffsetTop=nodeOffsetTop-treeOffsetTop;window.setTimeout(function(){treeViewElement.scrollTop=relativeOffsetTop;},500);}}};this.DocumentObjectFromNode=function(node){if(!node){return null;}return new DocumentObject(node.get_value(),node.get_attributes().getAttribute("DocumentVersionKey"),node.get_attributes().getAttribute("DocumentTypeCode"),node.get_attributes().getAttribute("DocumentName"),null,null,null,node.get_parent()!=node.get_treeView()?node.get_parent().get_text():"",eval(node.get_attributes().getAttribute("CanPaste")),eval(node.get_attributes().getAttribute("CanCopy")),eval(node.get_attributes().getAttribute("CanCut")),eval(node.get_attributes().getAttribute("IsContainer")));};this.DocumentObjectFromRow=function(row){return new DocumentObject(row.getAttribute("HierarchyKey"),row.id,row.getAttribute("DocumentTypeCode"),row.getAttribute("DocumentName"),row.getAttribute("RelatedDocumentVersionkey"),row.getAttribute("RelatedDocumentTypeCode"),row.getAttribute("RelatedHierarchyKey"),row.getAttribute("ParentName"),eval(row.getAttribute("CanPaste")),eval(row.getAttribute("CanCopy")),eval(row.getAttribute("CanCut")),eval(row.getAttribute("IsContainer")));
};this.GetSelectedItems=function(useFolderIfNoRowsSelected){var selectedRows=this.GetSelectedRows();var selectedItems=[];if(selectedRows&&selectedRows.length>0){for(var i=0;i<selectedRows.length;i++){selectedItems.push(this.DocumentObjectFromRow(selectedRows[i]));}}else{if(useFolderIfNoRowsSelected){var selectedNode=this.GetSelectedNode();if(selectedNode){var currentFolder=this.DocumentObjectFromNode(selectedNode);selectedItems.push(currentFolder);}}}return selectedItems;};this.GeneralClick=function(menuItem){var selectedNode=this.GetSelectedNode();var currentFolder=null;if(selectedNode){currentFolder=this.DocumentObjectFromNode(selectedNode);}var selectedItems=this.GetSelectedItems(true);if(menuItem.get_attributes().getAttribute("DocumentType")!==null){this.PerformAction(menuItem.get_value(),selectedItems,currentFolder,menuItem.get_attributes().getAttribute("DocumentType"));}else{this.PerformAction(menuItem.get_value(),selectedItems,currentFolder);}};this.MenuClick=function(sender,args){var numItems=args._item.get_items().length;if(numItems){this.MenuClose();}if(args._item.get_value()&&args._item.get_value().length>0){this.GeneralClick(args._item);if(window.event){window.event.returnValue=false;}return false;}return true;};this.GetDocumentVersionKeysString=function(selectedItems,optional){var selectedItemKeys="";if(selectedItems){for(var i=0;i<selectedItems.length;i++){if(optional&&(selectedItems[i].DocumentTypeCode=="DBB")){selectedItemKeys+=","+selectedItems[i].DocumentVersionKey+"|"+selectedItems[i].DocumentName;}else{selectedItemKeys+=","+selectedItems[i].DocumentVersionKey;}}}return selectedItemKeys.substr(1);};this.GetHierarchyKeysString=function(selectedItems){var selectedItemKeys="";if(selectedItems){for(var i=0;i<selectedItems.length;i++){selectedItemKeys+=","+selectedItems[i].HierarchyKey;}}return selectedItemKeys.substr(1);};this.EditAction=null;this.ExecuteAction=null;this.DownloadAction=null;this.SelectAction=null;this.ImportAction=null;this.VersionsAction=null;
this.PreviewAction=null;this.SelectAndReturnValueAction=null;this.ExportAction=null;this.SubmitAction=null;this.PublishAction=null;this.RequestDeleteAction=null;this.DeleteAction=null;this.PurgeAction=null;this.NewAction=null;this.CutAction=null;this.CopyAction=null;this.PasteAction=null;this.RefreshAction=null;this.SelectAllAction=null;this.PurgeAllAction=null;this.UndoAction=null;this.RadTreeViewClientID=null;this.PerformAction=function(action,selectedItems,currentFolder,type){var i=0;this.SetSelectedKeys(selectedItems);action=action.toLowerCase();switch(action){case this.EditAction:case this.ExecuteAction:case this.DownloadAction:case this.SelectAction:case this.ImportAction:case this.VersionsAction:case this.PreviewAction:this.ShowActionForm(action,selectedItems,currentFolder,true);break;case this.SelectAndReturnValueAction:this.SelectAndReturnValue();break;case this.ExportAction:case this.SubmitAction:case this.PublishAction:this.ShowActionForm(action,selectedItems,currentFolder,false);break;case this.RequestDeleteAction:this.ShowActionForm(action,selectedItems,currentFolder,false,"Are you sure you want to request deletion of the selected object(s)?");break;case this.DeleteAction:this.ShowActionForm(action,selectedItems,currentFolder,false,"Are you sure you want to delete the selected object(s) and all of their children?");var ob=this;var newDialogWindowClose=function(dialogWindow){try{var currentHierarchyKey=$("CurrentHierarchyKey").value;var selectedKeys=$("SelectedKeys").value;if(dialogWindow.IsDirty&&selectedKeys!==null&&currentHierarchyKey!==null&&selectedKeys==currentHierarchyKey){var tree=$find(ob.RadTreeViewClientID);var sn=tree.get_selectedNode();if(sn.get_parent()!=sn.get_treeView()){var selectedKey=sn.get_parent().get_value();ob.SelectNode(selectedKey);$("CurrentHierarchyKey").value=selectedKey;}}if(dialogWindow.IsDirty){ob.RefreshNode();}}finally{ob.DialogWindowClose=window.oldDialogWindowClose;window.oldDialogWindowClose=null;}};window.oldDialogWindowClose=this.DialogWindowClose;
this.DialogWindowClose=newDialogWindowClose;break;case this.PurgeAction:if(!selectedItems||selectedItems.length===0||selectedItems[0].DocumentName===undefined){alert(this.MessageNothingSelected);return;}this.ShowActionForm(action,selectedItems,currentFolder,false,"Are you sure you want to PERMANENTLY delete the selected object(s) and all of their children? You will not be able to undo this operation.");var obj=this;var newDialogWindowClose1=function(dialogWindow){try{var currentHierarchyKey=$("CurrentHierarchyKey").value;var selectedKeys=$("SelectedKeys").value;if(dialogWindow.IsDirty&&selectedKeys!==null&&currentHierarchyKey!==null&&selectedKeys==currentHierarchyKey){var tree=$find(obj.RadTreeViewClientID);var sn=tree.get_selectedNode();if(sn.get_parent()!=sn.get_treeView()){var selectedKey=sn.get_parent().get_value();obj.SelectNode(selectedKey);$("CurrentHierarchyKey").value=selectedKey;}}if(dialogWindow.IsDirty){obj.RefreshNode();}}finally{obj.DialogWindowClose=window.oldDialogWindowClose;window.oldDialogWindowClose=null;}};window.oldDialogWindowClose=this.DialogWindowClose;this.DialogWindowClose=newDialogWindowClose1;break;case this.NewAction:if(!type||!type.length){return;}this.ShowNewForm(currentFolder,type);break;case this.CutAction:if(!selectedItems||selectedItems.length===0){alert(this.MessageNothingSelected);return;}for(i=0;i<selectedItems.length;i++){if(!selectedItems[i].CanCut){alert("Cannot move "+selectedItems[i].DocumentName+".  Operation cancelled.");return;}}this.SetValueToClipboard(this.GetHierarchyKeysString(selectedItems));this.SetDocTypeToClipboard(selectedItems[0].DocumentTypeCode);document.getElementById("ClipboardCutCopy").value=action;break;case this.CopyAction:if(!selectedItems||selectedItems.length===0){alert(this.MessageNothingSelected);return;}for(i=0;i<selectedItems.length;i++){if(!selectedItems[i].CanCopy){alert("Cannot copy "+selectedItems[i].DocumentName+".  Operation cancelled.");return;}}this.SetValueToClipboard(this.GetHierarchyKeysString(selectedItems));
this.SetDocTypeToClipboard(selectedItems[0].DocumentTypeCode);document.getElementById("ClipboardCutCopy").value=action;break;case this.PasteAction:this.PasteObjects(selectedItems);break;case this.RefreshAction:this.RefreshNode();break;case this.SelectAllAction:this.SelectAllRows();break;case this.PurgeAllAction:if(!confirm("Are you sure you want to PERMANENTLY delete the contents of the recycle bin? You will not be able to undo this operation.")){return;}this.SelectAllRows();var selectedRows=this.GetSelectedRows();selectedItems=[];if(selectedRows&&selectedRows.length>0){for(i=0;i<selectedRows.length;i++){selectedItems.push(this.DocumentObjectFromRow(selectedRows[i]));}}this.ShowActionForm(this.PurgeAction,selectedItems,currentFolder,false,null);break;}};this.MainMenuClientID=null;this.MenuClose=function(){var menu=document.getElementById(this.MainMenuClientID);menu.Close();};this.SetValueToClipboard=function(clipboardValue){document.getElementById("Clipboard").value=clipboardValue;};this.SetDocTypeToClipboard=function(firstClipboardDocumentType){document.getElementById("DocumentTypeClipboard").value=firstClipboardDocumentType;};this.SetSelectedKeys=function(selectedItems){document.getElementById("SelectedKeys").value=this.GetHierarchyKeysString(selectedItems);};this.MessageNothingSelected=null;this.MessageMoreThanOneSelected=null;this.ClipboardOperationTargetHierarchyKey=null;this.PasteObjects=function(selectedItems){if(!selectedItems||!selectedItems.length){alert(this.MessageNothingSelected);return false;}else{if(selectedItems.length>1){alert(this.MessageMoreThanOneSelected);return false;}}var selectedItem=selectedItems[0];if(selectedItem.CanPaste){document.getElementById("SelectedKeys").value=document.getElementById("Clipboard").value;this.ClipboardOperationTargetHierarchyKey=selectedItem.HierarchyKey;var pasteItemDocumentType="";var docType=document.getElementById("DocumentTypeClipboard").value;if(docType!=""&&docType!=null){pasteItemDocumentType=docType;}else{pasteItemDocumentType=selectedItem.DocumentTypeCode;
}if(pasteItemDocumentType=="WEB"){document.getElementById(this.NewDocNameID).value="";this.ShowRenameDialog();}else{var ob=this;PageMethods.CheckForPasteConflict(document.getElementById("SelectedKeys").value,selectedItem.HierarchyKey,function(showConflictDialog,userContext,methodName){ob.CheckForPasteConflict_Succeeded(showConflictDialog,userContext,methodName);},function(error,userContext,methodName){ob.OnFailed(error,userContext,methodName);});}}};this.DocumentExistsMessage=null;this.MoveObjectsButtonID=null;this.CopyObjectsButtonID=null;this.ConflictingPathResolutionSkip=null;this.CheckForPasteConflict_Succeeded=function(showConflictDialog,userContext,methodName){if(showConflictDialog){var ob=this;ShowDialog_NoReturnValue(gWebRoot+"/iMIS/BSA/ConflictResolution.aspx",null,500,500,this.DocumentExistsMessage,null,null,function(dialogWindow){ob.ConflictDialog_Close(dialogWindow);},"ObjectBrowserDialog",false,false,function(dialogWindow){ob.DialogWindowCallback(dialogWindow);});return;}document.getElementById("ConflictResolution").value="";var controlUniqueID=document.getElementById("ClipboardCutCopy").value=="cut"?this.MoveObjectsButtonID:this.CopyObjectsButtonID;InitiatePostBack(controlUniqueID,this.ClipboardOperationTargetHierarchyKey);};this.ConflictDialog_Close=function(dialogWindow){var dialogResult=dialogWindow.result;if(!dialogResult||dialogResult==this.ConflictingPathResolutionSkip){return;}document.getElementById("ConflictResolution").value=dialogResult;var controlUniqueID=document.getElementById("ClipboardCutCopy").value=="cut"?this.MoveObjectsButtonID:this.CopyObjectsButtonID;InitiatePostBack(controlUniqueID,this.ClipboardOperationTargetHierarchyKey);};this.refreshRequested=false;this.RefreshFolderButtonID=null;this.DialogWindowCallback=function(dialogWindow){if(this.refreshRequested&&dialogWindow.IsDirty){this.RefreshNode();}};this.DialogWindowClose=function(dialogWindow){if(this.refreshRequested&&dialogWindow.IsDirty){this.RefreshNode();}};this.RefreshNode=function(){this.refreshRequested=false;
var selectedNode=this.GetSelectedNode();var menu=null;try{menu=this.MainMenuClientID;}catch(exc){}if(menu){this.DisableMenuItems(menu);}if(selectedNode){InitiatePostBack(this.RefreshFolderButtonID,selectedNode.get_value());}else{InitiatePostBack(this.RefreshFolderButtonID);}};this.NewDocNameID=null;this.ShowRenameDialog=function(){var ob=this;var win=ShowDialog(gWebRoot+"/iMIS/ContentManagement/CopyWebsite.aspx",null,500,400,"Copy website",null,null,function(dialogWindow){ob.ShowRenameDialogCallback(dialogWindow);},"Copy website",false,false,function(dialogWindow){ob.DialogWindowClose(dialogWindow);});win.set_modal(true);setTimeout(function(){win.setActive(true);},0);};this.ShowRenameDialogCallback=function(radWindow){if(!radWindow.result||this.NewDocNameID==undefined||this.NewDocNameID==null){return;}document.getElementById(this.NewDocNameID).value="";document.getElementById(this.NewDocNameID).value=radWindow.result;if(radWindow.result!=""&radWindow.result!=null){radWindow.result="";radWindow.DestroyOnClose=true;radWindow.close();InitiatePostBack(this.CopyObjectsButtonID,this.ClipboardOperationTargetHierarchyKey);}};this.ShowMenu=false;this.UpdateMenuButtonID=null;this.UpdateMenu=function(){if(this.ShowMenu){this.SetSelectedKeys(this.GetSelectedItems(true));InitiatePostBack(this.UpdateMenuButtonID);}};this.DisableMenuItems=function(menu){if(!menu){return;}var children=menu.Items;if(!children||!children.length){return;}for(var i=0;i<children.length;++i){var child=children[i];child.Disable();this.DisableMenuItems(child);}};this.AllowMultiSelect=false;this.AllowSingleClickAction=false;this.RowClick=function(rowObject,e){if(e!==null&&IsCtrl(e)&&this.AllowMultiSelect){if(this.IsSelected(rowObject)){this.DeselectRow(rowObject);}else{this.SelectRow(rowObject);}}else{if(e!==null&&IsShift(e)&&this.AllowMultiSelect){var grid=rowObject.parentNode.parentNode;var selectedRows=this.GetSelectedRows(grid);this.DeselectAllRows(grid);if(selectedRows!==null&&selectedRows.length>0){var lastSelectedRow=selectedRows[0],i=0;
if(lastSelectedRow.rowIndex<rowObject.rowIndex){for(i=lastSelectedRow.rowIndex;i<rowObject.rowIndex;i++){this.SelectRow(grid.rows[i],true);}}else{for(i=lastSelectedRow.rowIndex;i>rowObject.rowIndex;i--){this.SelectRow(grid.rows[i],true);}}}this.SelectRow(rowObject);}else{this.DeselectAllRows(rowObject.parentNode.parentNode);this.SelectRow(rowObject,false);}}if(this.AllowSingleClickAction){this.SelectAndReturnValue();return;}};this.ShowHierarchyTree=false;this.SelectNodeButtonID=null;this.DoubleClickAction=null;this.RowDblClick=function(rowObject){var selectedItems=this.GetSelectedItems(false);if(selectedItems.length===0){return false;}if(selectedItems[0].DocumentTypeCode=="FOL"||selectedItems[0].DocumentTypeCode=="CFL"||(selectedItems[0].DocumentTypeCode=="SRT"&&selectedItems[0].RelatedDocumentTypeCode=="FOL")){var selectedKey;if(selectedItems[0].DocumentTypeCode!="SRT"){selectedKey=selectedItems[0].HierarchyKey;}else{selectedKey=selectedItems[0].RelatedHierarchyKey;}if(this.ShowHierarchyTree){var ob=this;window.setTimeout(function(){ob.SelectNode(selectedKey);},50);}else{$("CurrentHierarchyKey").value=selectedKey;InitiatePostBack(this.SelectNodeButtonID,selectedKey);}}else{var currentNode=this.GetSelectedNode();var currentFolder=null;if(currentNode){currentFolder=this.DocumentObjectFromNode(currentNode);}this.PerformAction(this.DoubleClickAction,selectedItems,currentFolder);}if(window.event){window.event.returnValue=false;}else{return false;}};this.RowContextMenu=function(index,e){var isSelected=this.Rows[index].Control.getAttribute("Selected");if(isSelected&&isSelected!="1"){this.SelectRow(this.Rows[index].Control,false);}};this.ContentListID=null;this.GetSelectedRows=function(grid){if(!grid){grid=document.getElementById(this.ContentListID);}var result=[];if(grid){var allRows=grid.rows;for(var i=0;i<allRows.length;i++){if(this.IsSelected(allRows[i])){result.push(allRows[i]);}}}return result;};this.IsSelected=function(rowObject){return hasClass(rowObject,"selected");
};this.SelectRow=function(rowObject,suppressEvent){if(rowObject==null){return;}var row=jQuery(rowObject);if(row!=null&&row.css("display")!=undefined&&row.css("display")=="none"){return;}addClass(rowObject,"selected");removeClass(rowObject,"hover");if(this.SelectRowLastId==rowObject.id){return;}this.SelectRowLastId=rowObject.id;if(!suppressEvent){this.UpdateSummary(rowObject.parentNode.parentNode);this.UpdateEdit(rowObject.parentNode.parentNode);this.UpdateMenu();}};this.SelectDefaultDocument=function(){var defaultSelectedKey=$("DefaultSelectedDocumentKey").value;if(defaultSelectedKey){this.RowClick($(defaultSelectedKey),null);}};this.DeselectRow=function(rowObject,suppressEvent){removeClass(rowObject,"selected");if(!suppressEvent){var selectedRows=this.GetSelectedRows(rowObject.parentNode.parentNode);if(selectedRows.length==1){this.SelectRow(selectedRows[0]);}else{this.UpdateSummary(rowObject.parentNode.parentNode);this.UpdateEdit(rowObject.parentNode.parentNode);this.UpdateMenu();}}};this.ShowEdit=false;this.ShowSummary=false;this.EditFrameClientID=null;this.ContentEditFrameClientID=null;this.BlankUrl=null;this.SingleClickAction=null;this.UpdateEdit=function(grid){if(this.ShowEdit){var editFrame=document.getElementById(this.EditFrameClientID);if(!editFrame){return;}var selectedRows=this.GetSelectedRows(grid);if(selectedRows.length==1){var item=this.DocumentObjectFromRow(selectedRows[0]);this.LoadEditPane(item,this.SingleClickAction,"E");}else{this.LoadEditPane_Succeeded(this.BlankUrl,null,null);var message="";if(!selectedRows.length){message="Select an item to edit.";}else{if(!this.ShowSummary){message="<b>"+selectedRows.length+"</b> items selected";}}var ob=this;window.setTimeout(function(){ob.WriteEditFrameMessage(message);},50);}}};this.UpdateSummary=function(grid){if(this.ShowSummary){var selectedRows=this.GetSelectedRows(grid);if(selectedRows.length==1){var item=this.DocumentObjectFromRow(selectedRows[0]);this.LoadSummaryPane(item,this.SingleClickAction,"E");}else{this.LoadSummaryPane_Succeeded(this.BlankUrl,null,null);
var message="";if(!selectedRows.length){message="Select an item to view its summary information.";}else{message="<b>"+selectedRows.length+"</b> items selected";}var ob=this;window.setTimeout(function(){ob.WriteSummaryFrameMessage(message);},50);}}};this.SummaryFrameClientID=null;this.WriteSummaryFrameMessage=function(message){var summaryFrame=document.querySelectorAll('[id$="_SummaryFrame"]');summaryFrame=summaryFrame[0];if(summaryFrame.contentWindow){summaryFrame.contentWindow.document.open();summaryFrame.contentWindow.document.writeln(message);summaryFrame.contentWindow.document.close();}};this.WriteEditFrameMessage=function(message){var editFrame=document.getElementById(this.EditFrameClientID);if(editFrame.contentWindow){editFrame.contentWindow.document.open();editFrame.contentWindow.document.writeln(message);editFrame.contentWindow.document.close();}};this.SelectAllRows=function(grid){if(!grid){grid=$(this.ContentListID);}var allRows=grid.rows;for(var i=0;i<allRows.length-1;i++){this.SelectRow(allRows[i],true);}this.SelectRow(allRows[i],false);};this.DeselectAllRows=function(grid){var selectedRows=this.GetSelectedRows(grid);if(!selectedRows.length){return;}for(var i=0;i<selectedRows.length;i++){this.DeselectRow(selectedRows[i],true);}};this.SelectNode=function(hierarchyKey){var selectedNode=this.GetSelectedNode();if(selectedNode){selectedNode.unselect();}var treeView=$find(this.RadTreeViewClientID);var node=treeView.findNodeByValue(hierarchyKey);if(node!=null){node.select();node.expand();$("CurrentHierarchyKey").value=node.get_value();InitiatePostBack(this.SelectNodeButtonID,node.get_value());}};this.GetSelectedNode=function(){try{var treeViewInstance=$find(this.RadTreeViewClientID);if(treeViewInstance.get_selectedNode()){return treeViewInstance.get_selectedNode();}}catch(e){}return null;};this.TreeViewBeforeClick=function(sender,eventArgs){var node=eventArgs.get_node();if(!node.get_enabled()){eventArgs.set_cancel(true);}};this.TreeViewAfterClick=function(sender,eventArgs){var node=eventArgs.get_node();
if(!node.get_expanded()){node.expand();}if(this.ClickedNode==node.get_value()){return;}$("CurrentHierarchyKey").value=node.get_value();this.ClickedNode=node.get_value();InitiatePostBack(this.SelectNodeButtonID,node.get_value());};this.ShowNonContainersInHierarchyTree=false;this.TreeViewBeforeDoubleClick=function(sender,eventArgs){var node=eventArgs.get_node();if(this.ShowNonContainersInHierarchyTree){if(!(node.get_attributes().getAttribute("DocumentTypeCode")=="FOL"||node.get_attributes().getAttribute("DocumentTypeCode")=="CFL"||(node.get_attributes().getAttribute("DocumentTypeCode")=="SRT"&&node.get_attributes().getAttribute("RelatedDocumentTypeCode")=="FOL"))){var currentNode=this.GetSelectedNode();var currentFolder=null;if(currentNode){currentFolder=this.DocumentObjectFromNode(currentNode);}this.PerformAction(this.DoubleClickAction,[currentFolder],currentFolder);}}};this.SelectNodeCollapsedButtonID=null;this.TreeViewAfterToggle=function(sender,eventArgs){var node=eventArgs.get_node();var selectedNode=this.GetSelectedNode();if(selectedNode){var ancestorNode=selectedNode.get_parent();while(ancestorNode){if(node==ancestorNode){selectedNode.unselect();node.select();$("CurrentHierarchyKey").value=node.get_value();InitiatePostBack(this.SelectNodeCollapsedButtonID,node.get_value());break;}ancestorNode=ancestorNode.get_parent();}}};this.ScrollToSelectedNode=function(){var selectedNode=this.GetSelectedNode();if(selectedNode){window.setTimeout(function(){selectedNode.scrollIntoView();},50);}};this.PathSeparator="/";this.GetCurrentPath=function(){var selectedNode=this.GetSelectedNode();if(selectedNode){var result=selectedNode.get_attributes().getAttribute("DocumentName");while(selectedNode.get_parent()!=selectedNode.get_treeView()){selectedNode=selectedNode.get_parent();result=selectedNode.get_attributes().getAttribute("DocumentName")+this.PathSeparator+result;}return result;}return"";};this.HierarchyAddTypeAfterAsSibling="";this.HierarchyAddTypeBeforeAsSibling="";this.HierarchyAddTypeAsLastChild="";
this.TreeViewDrop=function(e,eventArgs){var destNode=eventArgs.get_destNode();var dropPosition=eventArgs.get_dropPosition();if(!destNode){return false;}if(typeof(destNode._element._item)!=="undefined"){var isRoot=destNode._element._item._isFirstRootNode();if(isRoot){dropPosition="over";}}var isCtrl=IsCtrl(e);var addType;switch(dropPosition){case"below":addType=this.HierarchyAddTypeAfterAsSibling;break;case"above":addType=this.HierarchyAddTypeBeforeAsSibling;break;default:addType=this.HierarchyAddTypeAsLastChild;break;}$("HierarchyAddType").value=addType;var selectedItem=this.DocumentObjectFromNode(destNode);if($("SelectedKeys").value.length===0){alert("Error: Nothing set in SelectedKeys");}else{if(selectedItem.CanPaste){var sourceKey=$("SelectedKeys").value;if(selectedItem.HierarchyKey==sourceKey){return false;}document.getElementById("ClipboardCutCopy").value=isCtrl?"copy":"cut";this.ClipboardOperationTargetHierarchyKey=selectedItem.HierarchyKey;var ob=this;PageMethods.CheckForPasteConflict(document.getElementById("SelectedKeys").value,selectedItem.HierarchyKey,function(showConflictDialog,userContext,methodName){ob.CheckForPasteConflict_Succeeded(showConflictDialog,userContext,methodName);},function(error,userContext,methodName){ob.OnFailed(error,userContext,methodName);});}}return false;};this.TreeViewDrag=function(sender,eventArgs){var sourceNode=eventArgs.get_node();if(window.event&&window.event.button==2){return;}document.getElementById("SelectedKeys").value="";var doc=this.DocumentObjectFromNode(sourceNode);if(doc&&(doc.CanCopy||doc.CanCut)){document.getElementById("SelectedKeys").value=doc.HierarchyKey;}};this.GridContextMenuClick=function(sender,args){var selectedRows=this.GetSelectedRows();var selectedItems=[];if(selectedRows&&selectedRows.length>0){for(var i=0;i<selectedRows.length;i++){selectedItems.push(this.DocumentObjectFromRow(selectedRows[i]));}}var ob=this;window.setTimeout(function(){ob.PerformAction(args._item.get_value(),selectedItems,null);},150);
};this.TreeViewContextMenuClick=function(sender,args){var selectedFolder=this.DocumentObjectFromNode(this.GetSelectedNode());var selectedItems=new Array(selectedFolder);var ob=this;if(args._menuItem._attributes&&args._menuItem._attributes.getAttribute("DocumentType")){window.setTimeout(function(){ob.PerformAction(args._menuItem.get_value(),selectedItems,selectedFolder,args._menuItem._attributes.getAttribute("DocumentType"));},150);}else{window.setTimeout(function(){ob.PerformAction(args._menuItem.get_value(),selectedItems,selectedFolder);},150);}};this._startX=0;this._startY=0;this._dragElement=null;this._dragStarted=false;this._clickTarget=null;this._fireRowClick=false;this.RowMouseDown=function(target,e,isRecycle){if(!e){e=window.event;}this._clickTarget=target;if((e.button==1&&window.event)||e.button===0){this._startX=e.clientX;this._startY=e.clientY;var thisClassInstance=this;if(isRecycle=="false"){document.onmousemove=function(e){thisClassInstance.OnMouseMove(e);};}document.onmouseup=function(e){thisClassInstance.OnMouseUp(e);};document.onselectstart=function(){return false;};if(!IsCtrl(e)&&!this.IsSelected(target)){this.RowClick(target,e);}else{this._fireRowClick=true;}return false;}};this.OnMouseMove=function(e){if(window.event){e=window.event;}else{return;}if(!this.ShowMenu){return;}if(!this._dragStarted){if((Math.abs(e.clientX-this._startX)>3)||(Math.abs(e.clientY-this._startY)>3)){this._dragStarted=true;this._dragElement=document.createElement("div");this._dragElement.className="dragContainer";document.body.appendChild(this._dragElement);if(!this.IsSelected(this._clickTarget)){this.SelectRow(this._clickTarget);}var dragElements=this.GetSelectedRows(this._clickTarget.parentNode.parentNode);var docItems=[];for(var i=0;i<dragElements.length;i++){var doc=this.DocumentObjectFromRow(dragElements[i]);if(doc.CanCopy||doc.CanCut){docItems.push(doc);}else{_DebugTrace("Drag not allowed: "+dragElements.innerText);continue;}var clone=dragElements[i].cells[0].cloneNode(true);
clone.className="dragItem";this._dragElement.appendChild(clone);}$("SelectedKeys").value="";$("SelectedKeys").value=this.GetHierarchyKeysString(docItems);}}if(this._dragStarted&&this._dragElement&&this._dragElement.childNodes.length){this._dragElement.style.left=(e.clientX+10)+"px";this._dragElement.style.top=(e.clientY+5)+"px";}};this.OnMouseUp=function(e){if(window.event){e=window.event;}if(this._dragStarted&&this._dragElement&&this._dragElement.childNodes.length>0){var tree=$find(this.RadTreeViewClientID);var treeId=this.RadTreeViewClientID;var inTree=false;var parent=null;if(e.srcElement==null){parent=e.target;}else{parent=e.srcElement;}var nodeLI=null;while(parent){if(!nodeLI&&parent.tagName=="LI"&&parent.className.substring(0,4)=="rtLI"){nodeLI=parent;}if(parent.id==treeId){inTree=true;break;}parent=parent.parentNode;}if(inTree){var nodes=tree.get_allNodes();var node=null;for(var i=0;i<nodes.length;i++){if(nodes[i].get_element()==nodeLI){node=nodes[i];break;}}if(node){var targetHierarchyKey=node.get_value();var canPaste=node.get_attributes().getAttribute("CanPaste")=="true";if(targetHierarchyKey&&canPaste){var sourceKey=$("SelectedKeys").value;if(sourceKey.length===0){alert("Error: Nothing set in SelectedKeys");}else{if(sourceKey.indexOf(targetHierarchyKey)>-1){alert("Error: Cannot drop an item onto itself");}else{document.getElementById("ClipboardCutCopy").value=IsCtrl(e)?"copy":"cut";this.ClipboardOperationTargetHierarchyKey=targetHierarchyKey;var ob=this;PageMethods.CheckForPasteConflict(document.getElementById("SelectedKeys").value,targetHierarchyKey,function(showConflictDialog,userContext,methodName){ob.CheckForPasteConflict_Succeeded(showConflictDialog,userContext,methodName);},function(error,userContext,methodName){ob.OnFailed(error,userContext,methodName);});}}}}}}else{if(this._fireRowClick){this.RowClick(this._clickTarget,e);}}if(this._dragElement){document.body.removeChild(this._dragElement);}this._dragElement=null;this._dragStarted=false;this._clickTarget=null;
this._fireRowClick=false;document.onmousemove=null;document.onmouseup=null;document.onselectstart=null;};this.KeyboardShortcut=function(e){var keyNum;var keyChar;var isCtrl=IsCtrl(e);var isAlt=false;if(window.event){e=window.event;keyNum=e.keyCode;isAlt=e.altKey;}else{if(e.which){keyNum=e.which;isAlt=(e.modifiers&Event.ALT_MASK==Event.ALT_MASK);}}if(keyNum==17||keyNum==18){return;}keyChar=String.fromCharCode(keyNum).toLowerCase();var action=null;if(isCtrl){switch(keyChar){case"c":action=this.CopyAction;break;case"x":action=this.CutAction;break;case"v":action=this.PasteAction;break;case"z":action=this.UndoAction;break;case"r":action=this.RefreshAction;break;case"a":action=this.SelectAllAction;break;case"e":action=this.EditAction;break;case"p":action=this.SelectAction;break;}}else{switch(keyNum){case 45:action=this.NewAction;break;case 46:action=this.DeleteAction;break;}}if(action){var currentFolder=null;var selectedItems=[];var selectedRows=this.GetSelectedRows();if(selectedRows&&selectedRows.length>0){for(var i=0;i<selectedRows.length;i++){selectedItems.push(this.DocumentObjectFromRow(selectedRows[i]));}}else{var selectedNode=this.GetSelectedNode();if(selectedNode){currentFolder=this.DocumentObjectFromNode(selectedNode);selectedItems.push(currentFolder);}}if(window.event){window.event.returnValue=false;}return this.PerformAction(action,selectedItems,currentFolder);}return true;};this.actionSelectedItems=null;this.actionCurrentFolder=null;this.ShowActionForm=function(action,selectedItems,currentFolder,singleSelect,confirmMessage){if(!selectedItems||selectedItems.length===0){alert(this.MessageNothingSelected);return;}if(singleSelect&&selectedItems.length>1){alert(this.MessageMoreThanOneSelected);return;}if(confirmMessage&&confirmMessage.length>0){if(action=="delete"&&this.ExistsBO(selectedItems)){confirmMessage="Are you sure you want to delete the following child branch from the specified root business object?\n";for(var i=0;i<selectedItems.length;i++){if(selectedItems[i].DocumentTypeCode=="DBB"){confirmMessage+="\n\t\t"+selectedItems[i].DocumentName+" (a branch of "+selectedItems[i].ParentName+" )";
}else{confirmMessage+="\n\t\t"+selectedItems[i].DocumentName+" (a root business object)";}}confirmMessage+='\n\nThis will permanently remove the specified branch and set the status of the root business object and any remaining branches to "Working". The changes will not affect the live system until you publish the root business object.\n\nPress OK to delete the specified branch, or Cancel to leave the business object unchanged.';}if(!confirm(confirmMessage)){return;}}var item=selectedItems[0];var type=item.DocumentTypeCode;this.actionSelectedItems=selectedItems;this.actionCurrentFolder=currentFolder;var currentFolderHierarchyKey=$("CurrentHierarchyKey").value;if(currentFolder){currentFolderHierarchyKey=currentFolder.HierarchyKey;}var pageInstanceKey=$get("PageInstanceKey");if(pageInstanceKey){pageInstanceKey=pageInstanceKey.value;}else{pageInstanceKey=this.NewGuid();}var websiteKey=gWebsiteKey;if(!websiteKey){websiteKey=this.EmptyGuid;}var ob=this;actionLink=PageMethods.GetWindowProperties(action,"E",type,item.HierarchyKey,item.DocumentVersionKey,currentFolderHierarchyKey,selectedItems.length,this.CloseOnCommit(type,action),websiteKey,pageInstanceKey,function(result,userContext,methodName){ob.GetWindowProperties_Succeeded(result,userContext,methodName);},function(error,userContext,methodName){ob.OnFailed(error,userContext,methodName);});};this.ExistsBO=function(selectedItems){for(var i=0;i<selectedItems.length;i++){if((selectedItems[i].DocumentTypeCode=="DBB")||(selectedItems[i].DocumentTypeCode=="BOD")){return true;}}return false;};this.CloseOnCommit=function(type,action){return action==this.NewAction&&type!="BOD";};this.ShowNewForm=function(currentFolder,type){var currentFolderHierarchyKey=$("CurrentHierarchyKey").value;if(currentFolder){currentFolderHierarchyKey=currentFolder.HierarchyKey;}var pageInstanceKey=$get("PageInstanceKey");if(pageInstanceKey){pageInstanceKey=pageInstanceKey.value;}else{pageInstanceKey=this.NewGuid();}var websiteKey=gWebsiteKey;if(!websiteKey){websiteKey=this.EmptyGuid;
}var ob=this;actionLink=PageMethods.GetWindowProperties(this.NewAction,"E",type,this.EmptyGuid,this.EmptyGuid,currentFolderHierarchyKey,1,this.CloseOnCommit(type,this.NewAction),websiteKey,pageInstanceKey,function(result,userContext,methodName){ob.GetWindowProperties_Succeeded(result,userContext,methodName);},function(error,userContext,methodName){ob.OnFailed(error,userContext,methodName);});};this.refreshRequested=false;this.AllowUpwardNavigation=false;this.MaxFileUploadSize=0;this.EmbeddedMode=false;this.GetWindowProperties_Succeeded=function(result,userContext,methodName){var documentKeys=null;var url=result.Url;if(url=="about:blank"){return;}if(this.actionSelectedItems&&this.actionSelectedItems.length>0){if(result.WindowName=="DELETE"){documentKeys=this.GetDocumentVersionKeysString(this.actionSelectedItems,true);}else{documentKeys=this.GetDocumentVersionKeysString(this.actionSelectedItems,false);}if(url.indexOf("{1}")>-1&&this.actionSelectedItems.length==1){url=url.replace("{1}",this.actionSelectedItems[0].DocumentName);}}else{if(this.actionCurrentFolder){documentKeys=this.actionCurrentFolder.DocumentVersionKey;}}this.refreshRequested=result.RefreshRequested;if(!this.AllowUpwardNavigation){url+="&iAllowUpwardNavigation=False";}if(!this.ShowHierarchyTree){url+="&iShowFolderTree=False";}url+="&MaxFileUploadSize="+this.MaxFileUploadSize;if(result.WindowName=="EXECUTE"&&this.EmbeddedMode){window.location.href=url+"&EmbeddedMode=True";}else{if(result.NewWindow){var newWindow=window.open(url,"_blank");newWindow.focus();}else{if(result.RedirectWindow){window.location.href=url;}else{var ob=this;win=ShowDialog(url,documentKeys,result.Width,result.Height,document.title,result.IconUrl,null,function(dialogWindow){ob.DialogWindowCallback(dialogWindow);},"ObjectBrowserDialog",false,false,function(dialogWindow){ob.DialogWindowClose(dialogWindow);});if(result.CloseImmediately){win.Close();}}}}};this.SelectAndReturnValue=function(){this.SelectAndReturnValueWithOption(false);};this.SelectContent=null;
this.SelectContainer=null;this.FilenameClientID=null;this.DialogMode=false;this.WindowClientScript=null;this.ShowFilename=false;this.SelectRowButtonClientID=null;this._mode="";this.SelectAndReturnValueWithOption=function(useFolderIfNoRowsSelected){var result,selectedRows;var selectedDocumentName;var selectedItems=this.GetSelectedItems(useFolderIfNoRowsSelected);if(this._mode==this.SelectContent){if(!selectedItems||selectedItems.length===0){alert(this.MessageNothingSelected);return;}result=this.GetDocumentVersionKeysString(selectedItems,false);selectedDocumentName=selectedItems[0].DocumentName;}else{if(this._mode==this.SelectContainer){var selectedNode=this.GetSelectedNode();if(selectedNode){result=selectedNode.get_value();selectedDocumentName=selectedNode.get_text();}else{result=$("CurrentHierarchyKey").value;selectedRows=this.GetSelectedRows();var selectedDocument=null;if(selectedRows&&selectedRows.length&&selectedRows.length==1){selectedDocument=this.DocumentObjectFromRow(selectedRows[0]);if(selectedDocument.IsContainer){result=selectedDocument.HierarchyKey;}}if(!result||trim(result)===""){result=this.FindURLParameter("FolderHierarchyKey");}selectedDocumentName=trim(document.getElementById(this.FilenameClientID).value);}}}if(this.DialogMode){var oWindow=this.WindowClientScript;oWindow.SelectedDocumentName=trim(selectedDocumentName);selectedRows=this.GetSelectedRows();if(selectedRows&&selectedRows.length>0){oWindow.SelectedDocumentPath=trim(this.GetCurrentPath()+this.PathSeparator+selectedDocumentName);}else{oWindow.SelectedDocumentPath=trim(this.GetCurrentPath());oWindow.SelectedDocumentVersionKey=trim(this.GetDocumentVersionKeysString(selectedItems,false));}if(this.ShowFilename){oWindow.Filename=trim(document.getElementById(this.FilenameClientID).value);}oWindow.result=result;oWindow.close();}else{this.SetSelectedKeys(selectedItems);var selectRowButton=document.getElementById(this.SelectRowButtonClientID);selectRowButton.click();}};this.CloseDialogWindow=function(){var oWindow=this.WindowClientScript;
if(oWindow){CloseRadWindow();}};this.OnFailed=function(error,userContext,methodName){if(error){alert("Action failed ("+methodName+"): "+error._message);}else{alert("Action failed without an error message ("+methodName+").");}};this.LoadSummaryPane=function(item,action,templateType){var pageInstanceKey=$get("PageInstanceKey");if(pageInstanceKey){pageInstanceKey=pageInstanceKey.value;}else{pageInstanceKey=this.NewGuid();}var websiteKey=gWebsiteKey;if(!websiteKey){websiteKey=this.EmptyGuid;}var ob=this;PageMethods.GetActionLink(action,templateType,item.DocumentTypeCode,item.HierarchyKey,item.DocumentVersionKey,this.EmptyGuid,1,false,websiteKey,pageInstanceKey,function(result,userContext,methodName){ob.LoadSummaryPane_Succeeded(result,userContext,methodName);},function(error,userContext,methodName){ob.OnFailed(error,userContext,methodName);});};this.LoadSummaryPane_Succeeded=function(result,userContext,methodName){var summaryFrame=document.querySelectorAll('[id$="_SummaryFrame"]');summaryFrame=summaryFrame[0];if(summaryFrame!=null&&summaryFrame.src.toLowerCase()!=result.toString().toLowerCase()){summaryFrame.src=result;}};this.LoadEditPane=function(item,action,templateType){var pageInstanceKey=$get("PageInstanceKey");if(pageInstanceKey){pageInstanceKey=pageInstanceKey.value;}else{pageInstanceKey=this.NewGuid();}var websiteKey=gWebsiteKey;if(!websiteKey){websiteKey=this.EmptyGuid;}var ob=this;PageMethods.GetActionLink(action,templateType,item.DocumentTypeCode,item.HierarchyKey,item.DocumentVersionKey,this.EmptyGuid,1,false,websiteKey,pageInstanceKey,function(result,userContext,methodName){ob.LoadEditPane_Succeeded(result,userContext,methodName);},function(error,userContext,methodName){ob.OnFailed(error,userContext,methodName);});};this.ObjectBrowserEmbeddedModeToken="";this.LoadEditPane_Succeeded=function(result,userContext,methodName){var contentItemKey=FindURLParameter("ContentItemKey");var defaultPanel=FindURLParameter("DefaultPanel");if(contentItemKey){result+="&ContentItemKey="+contentItemKey;
}if(defaultPanel){result+="&DefaultPanel="+defaultPanel;}result+="&"+this.ObjectBrowserEmbeddedModeToken+"=true";var contentEditFrame=document.getElementById(this.ContentEditFrameClientID);contentEditFrame.src=result;};this.SubPage_Committed=function(){if(this.ShowHierarchyTree){this.RefreshNode();}};this.maxMenuHeight=0;this.MainMenu_ItemOpen=function(menu,eventArgs){var element=this.FindDescendantElement(eventArgs.Item.DomElement,"DIV","scrollwrap");if(element){element.style.height="auto";if(element.clientHeight>maxMenuHeight){element.style.height=maxMenuHeight+"px";}}};this.MainMenu_ItemClose=function(menu,eventArgs){};this.FindDescendantElement=function(node,tagNameToLookFor,classNameToLookFor){var checkFunction,i;if(isArray(tagNameToLookFor)){for(i=0;i<tagNameToLookFor.length;++i){tagNameToLookFor[i]=tagNameToLookFor[i].toLowerCase();}checkFunction=function(tagName){return jQuery.inArray(tagName,tagNameToLookFor)>-1;};}else{checkFunction=function(tagName){return !tagNameToLookFor||tagNameToLookFor.toLowerCase()==iterator.tagName.toLowerCase();};}var queue=[node];var idx=0;while(true){var iterator=queue[idx++];if(!iterator){break;}if(!iterator.tagName){continue;}if(checkFunction(iterator.tagName.toLowerCase())){if(!classNameToLookFor||classNameToLookFor.length===0||jQuery.inArray(classNameToLookFor.toLowerCase(),iterator.className.toLowerCase().split(" ")>-1)){return iterator;}}for(i=0;i<iterator.childNodes.length;++i){queue.push(iterator.childNodes[i]);}if(idx>=queue.length){break;}}return null;};this.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=="x"?r:(r&3|8);return v.toString(16);}).toUpperCase();};this.ObjectQuickFindTextBoxID=null;this.ClearObjectQuickFindTextBox=function(){jQuery("#"+this.ObjectQuickFindTextBoxID).val("");};}function searchTable(a){var b=jQuery('table[ID $= "ContentList"]');b.find("tr").each(function(f,c){var d=jQuery(c).find("td");if(d.length>0){var e=false;d.each(function(h,g){var i=new RegExp(a,"i");
if(i.test(jQuery(g).text())){e=true;return false;}});if(e==true){jQuery(c).show();}else{jQuery(c).hide();}}});}var preserveScrollPosition=false;var scrollButtonsClientId=null;var menuwidth=2400;var availableWidth=2400;var scrollspeed=5;var jumpspeed=20;var lefttime=null;var righttime=null;var menuContainerElement=null;var scrollButtonsContainerElement=null;function menuLoad(){fillup();if(preserveScrollPosition&&scrollButtonsContainerElement.style.display!="none"){var a=readCookie("MenuPxLeft");if(!isNaN(parseInt(a))){a=parseInt(a);menuContainerElement.style.left=a;}}}function fillup(){menuContainerElement=$get("test2");scrollButtonsContainerElement=getParent($get(scrollButtonsClientId));scrollButtonsContainerElement.style.left=getParent(scrollButtonsContainerElement).style.left;document.getElementById("outerSpan").style.width="2400px";document.getElementById("innerSpan").style.width="2400px";document.getElementById("innerSpan").style.clip="rect(0 2400px auto 0)";menuwidth=menuContainerElement.offsetWidth;var b=$get("MenuDiv");var a=$get("MenuTable");var c=livePageWidth();availableWidth=a.offsetWidth>c?c:a.offsetWidth;scrollButtonsContainerElement.style.display=menuwidth>availableWidth?"block":"none";if(scrollButtonsContainerElement.style.display!="none"){availableWidth=availableWidth-scrollButtonsContainerElement.offsetWidth;}document.getElementById("outerSpan").style.width=menuwidth+"px";document.getElementById("innerSpan").style.width=availableWidth+"px";document.getElementById("innerSpan").style.clip="rect(0 "+availableWidth+"px auto 0)";if(scrollButtonsContainerElement.style.display=="none"){menuContainerElement.style.left="0px";b.style.paddingLeft="0px";}else{b.style.paddingLeft=scrollButtonsContainerElement.offsetWidth+"px";}}function navStateEnabled(){return $get("NavState")==null||$get("NavState").value=="enabled";}function scrollMenu(c,b){if(!navStateEnabled()){return;}var d=parseInt(menuContainerElement.style.left);if(c){if(d<=(availableWidth-menuwidth)){return;}}else{if(d>=0){return;}}var a=b?jumpspeed:scrollspeed;if(c){a=a*-1;}d+=a;if(d>0){d=0;}menuContainerElement.style.left=d+"px";
}function moveleft(){scrollMenu(true,false);if(navStateEnabled()){lefttime=setTimeout("moveleft()",50);}}function moveleftstop(){if(lefttime!=null){clearTimeout(lefttime);}if(preserveScrollPosition){createCookie("MenuPxLeft",menuContainerElement.style.left,1);}}function moveright(){scrollMenu(false,false);if(navStateEnabled()){righttime=setTimeout("moveright()",50);}}function moverightstop(){if(righttime!=null){clearTimeout(righttime);}if(preserveScrollPosition){createCookie("MenuPxLeft",menuContainerElement.style.left,1);}}function jumpright(){scrollMenu(false,true);if(navStateEnabled()){righttime=setTimeout("jumpright()",50);}}function jumpleft(){scrollMenu(true,true);if(navStateEnabled()){lefttime=setTimeout("jumpleft()",50);}}var keyStrokes="";var keyStrokeTimeout;var links;var currentLink=null;var prevPosition="0px";var linkSelected=false;function selectLink(){linkSelected=true;}function clickLink(){if(currentLink!=null){var a=getCurrentTable();a.className=a.oldClassName;currentLink=null;}resetKeyStrokes();prevPosition=test2.style.left;linkSelected=false;}function shortcutCancel(){resetKeyStrokes();resetCurrentLink();if($get("ActiveLink")!=null&&$get("ActiveLink").value.length>0){ensureVisible(document.getElementById(document.getElementById("ActiveLink").value));}else{test2.style.left=prevPosition;}linkSelected=false;}function shortcut(){if(event.keyCode==13){currentLink.click();clickLink();}else{if(event.keyCode==27){shortcutCancel();}else{keyStrokes+=String.fromCharCode(event.keyCode).toLowerCase();if(links==null){links=$get($get("NavMenuClientID").value).getElementsByTagName("a");}for(var a=0;a<links.length;a++){if(links[a].innerText.toLowerCase().substr(0,keyStrokes.length)==keyStrokes){if(currentLink!=links[a]){if(currentLink!=null){resetCurrentLink();}currentLink=links[a];currentLink.focus();}ensureVisible(currentLink);if(keyStrokeTimeout!=null){clearTimeout(keyStrokeTimeout);}selectLink();keyStrokeTimeout=setTimeout("resetKeyStrokes()",1200);break;}}}}}function getCurrentTable(){if(currentLink!=null){return getContainingTable(currentLink);
}return null;}function getContainingTable(a){return getParent(getParent(getParent(getParent(a))));}function ensureVisible(d){if(document.body.offsetWidth<=menuwidth){var a=d.linkindex;var g=0;var e=getContainingTable(d);var c=getParent(e).previousSibling;while(c!=null){g+=c.offsetWidth;c=c.previousSibling;}if(g>0){g=g*-1;g+=10;}test2.style.left=g+"px";var b=g+test2.offsetWidth;var f=document.body.offsetWidth-b;if(f>30){test2.style.left=(parseInt(test2.style.left)+(f-100))+"px";}}}function resetKeyStrokes(){keyStrokes="";keyStrokeTimeout=null;}function resetCurrentLink(){if(currentLink!=null){currentLink.blur();var a=getCurrentTable();a.className=a.oldClassName;currentLink=null;}}function SelectDefaultScript(a){parentElem=document.getElementById(a);if(parentElem.firstChild!=null&&parentElem.firstChild.firstChild!=null&&parentElem.firstChild.firstChild.firstChild!=null&&parentElem.firstChild.firstChild.firstChild.firstChild!=null&&parentElem.firstChild.firstChild.firstChild.firstChild.firstChild!=null){child=document.getElementById(a).firstChild.firstChild.firstChild.firstChild.firstChild;child.click();}}var PageNavR_Menu=null;var PageNavR_NavMenuClientID=null;addResizeEvent(PageNavR_OnResize);function PageNavR_OnResize(){if(PageNavR_NavMenuClientID!=null){PageNavR_Menu=$find(PageNavR_NavMenuClientID);if(PageNavR_Menu!=null){PageNavR_Menu.repaint();}}}function PageNavR_OnClientLoadHandler(b){var a=b.get_items().get_count()-1;lastItem=b.get_items().getItem(a);if(a==0){PageNavR_Menu=$find("<%= NavMenu.ClientID %>");if(PageNavR_Menu!=null){PageNavR_Menu.width=b.get_items().getItem(0).get_linkElement().offsetWidth;OnResize();}}}var navTreeClientID=null;function PageSubNav_Init(){var b=$get(navTreeClientID);var d=b.getElementsByTagName("span");var f=b.getElementsByTagName("a");for(var a=0;a<d.length;a++){d[a].onclick=PageSubNav_ExpandOnClick;var g=d[a].firstChild.nodeValue;if(g==null||g.length==0){getParent(d[a]).previousSibling.firstChild.style.display="none";if(a>0){var e=parseInt(d[a-1].id.substr(navTreeClientID.length));
var c=parseInt(d[a].id.substr(navTreeClientID.length));if(c==(e+1)){d[a].style.display="none";}}}}for(var a=0;a<f.length;a++){$addHandler(f[a],"click",PageSubNav_ExpandOnClick);}}function PageSubNav_ExpandOnClick(d){var a;if(!d){var d=window.event;}if(d.target){a=d.target;}else{if(d.srcElement){a=d.srcElement;}}var c=getParent(a);if(c.previousSibling!=null){var b=c.previousSibling.firstChild;if(b!=null&&b.tagName.toLowerCase()=="a"){if(b.click!=null){b.click();}else{if(b.onclick!=null){b.onclick.apply(b);}}}}return true;}var ms_TreeView_ToggleNode=null;function asi_TreeView_ToggleNode(e,d,g,c,a){ms_TreeView_ToggleNode(e,d,g,c,a);var b=a.getElementsByTagName("a");for(var f=0;f<b.length;f++){NavigationList_ConfigureAnchor(b[f]);}}this.ms_TreeView_HoverNode=null;function asi_TreeView_HoverNode(a,b){try{ms_TreeView_HoverNode(a,b);}catch(c){}}this.ms_TreeView_UnhoverNode=null;function asi_TreeView_UnhoverNode(a){try{ms_TreeView_UnhoverNode(a);}catch(b){}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(f,c){var b;if(this==null){throw new TypeError('"this" is null or not defined');}var e=Object(this);var d=e.length>>>0;if(d===0){return -1;}var a=+c||0;if(Math.abs(a)===Infinity){a=0;}if(a>=d){return -1;}b=Math.max(a>=0?a:d-Math.abs(a),0);while(b<d){if(b in e&&e[b]===f){return b;}b++;}return -1;};}function ClientNodeClicked(b,c){var a=c.get_node();a.toggle();}