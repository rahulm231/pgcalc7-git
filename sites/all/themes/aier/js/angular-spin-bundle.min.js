!function(n,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Spinner=t()}(this,function(){"use strict";function n(n,t){var e,i=document.createElement(n||"div");for(e in t)i[e]=t[e];return i}function t(n){for(var t=1,e=arguments.length;e>t;t++)n.appendChild(arguments[t]);return n}function e(n,t,e,i){var o=["opacity",t,~~(100*n),e,i].join("-"),r=.01+e/i*100,s=Math.max(1-(1-n)/t*(100-r),n),a=l.substring(0,l.indexOf("Animation")).toLowerCase(),c=a&&"-"+a+"-"||"";return d[o]||(p.insertRule("@"+c+"keyframes "+o+"{0%{opacity:"+s+"}"+r+"%{opacity:"+n+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+n+"}100%{opacity:"+s+"}}",p.cssRules.length),d[o]=1),o}function i(n,t){var e,i,o=n.style;if(t=t.charAt(0).toUpperCase()+t.slice(1),void 0!==o[t])return t;for(i=0;i<u.length;i++)if(e=u[i]+t,void 0!==o[e])return e}function o(n,t){for(var e in t)n.style[i(n,e)||e]=t[e];return n}function r(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)void 0===n[i]&&(n[i]=e[i])}return n}function s(n,t){return"string"==typeof n?n:n[t%n.length]}function a(n){this.opts=r(n||{},a.defaults,f)}function c(){function e(t,e){return n("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}p.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(n,i){function r(){return o(e("group",{coordsize:p+" "+p,coordorigin:-l+" "+-l}),{width:p,height:p})}function a(n,a,c){t(d,t(o(r(),{rotation:360/i.lines*n+"deg",left:~~a}),t(o(e("roundrect",{arcsize:i.corners}),{width:l,height:i.scale*i.width,left:i.scale*i.radius,top:-i.scale*i.width>>1,filter:c}),e("fill",{color:s(i.color,n),opacity:i.opacity}),e("stroke",{opacity:0}))))}var c,l=i.scale*(i.length+i.width),p=2*i.scale*l,u=-(i.width+i.length)*i.scale*2+"px",d=o(r(),{position:"absolute",top:u,left:u});if(i.shadow)for(c=1;c<=i.lines;c++)a(c,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(c=1;c<=i.lines;c++)a(c);return t(n,d)},a.prototype.opacity=function(n,t,e,i){var o=n.firstChild;i=i.shadow&&i.lines||0,o&&t+i<o.childNodes.length&&(o=o.childNodes[t+i],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=e))}}var l,p,u=["webkit","Moz","ms","O"],d={},f={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(a.defaults={},r(a.prototype,{spin:function(t){this.stop();var e=this,i=e.opts,r=e.el=n(null,{className:i.className});if(o(r,{position:i.position,width:0,zIndex:i.zIndex,left:i.left,top:i.top}),t&&t.insertBefore(r,t.firstChild||null),r.setAttribute("role","progressbar"),e.lines(r,e.opts),!l){var s,a=0,c=(i.lines-1)*(1-i.direction)/2,p=i.fps,u=p/i.speed,d=(1-i.opacity)/(u*i.trail/100),f=u/i.lines;!function h(){a++;for(var n=0;n<i.lines;n++)s=Math.max(1-(a+(i.lines-n)*f)%u*d,i.opacity),e.opacity(r,n*i.direction+c,s,i);e.timeout=e.el&&setTimeout(h,~~(1e3/p))}()}return e},stop:function(){var n=this.el;return n&&(clearTimeout(this.timeout),n.parentNode&&n.parentNode.removeChild(n),this.el=void 0),this},lines:function(i,r){function a(t,e){return o(n(),{position:"absolute",width:r.scale*(r.length+r.width)+"px",height:r.scale*r.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*p+r.rotate)+"deg) translate("+r.scale*r.radius+"px,0)",borderRadius:(r.corners*r.scale*r.width>>1)+"px"})}for(var c,p=0,u=(r.lines-1)*(1-r.direction)/2;p<r.lines;p++)c=o(n(),{position:"absolute",top:1+~(r.scale*r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:l&&e(r.opacity,r.trail,u+p*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&t(c,o(a("#000","0 0 4px #000"),{top:"2px"})),t(i,t(c,a(s(r.color,p),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(n,t,e){t<n.childNodes.length&&(n.childNodes[t].style.opacity=e)}}),"undefined"!=typeof document){p=function(){var e=n("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}();var h=o(n("group"),{behavior:"url(#default#VML)"});!i(h,"transform")&&h.adj?c():l=i(h,"animation")}return a}),!function(n){"use strict";function t(n,t){n.module("angularSpinner",[]).factory("usSpinnerService",["$rootScope",function(n){var t={};return t.spin=function(t){n.$broadcast("us-spinner:spin",t)},t.stop=function(t){n.$broadcast("us-spinner:stop",t)},t}]).directive("usSpinner",["$window",function(e){return{scope:!0,link:function(i,o,r){function s(){i.spinner&&i.spinner.stop()}var a=t||e.Spinner;i.spinner=null,i.key=n.isDefined(r.spinnerKey)?r.spinnerKey:!1,i.startActive=n.isDefined(r.spinnerStartActive)?r.spinnerStartActive:i.key?!1:!0,i.spin=function(){i.spinner&&i.spinner.spin(o[0])},i.stop=function(){i.startActive=!1,s()},i.$watch(r.usSpinner,function(n){s(),i.spinner=new a(n),(!i.key||i.startActive)&&i.spinner.spin(o[0])},!0),i.$on("us-spinner:spin",function(n,t){t===i.key&&i.spin()}),i.$on("us-spinner:stop",function(n,t){t===i.key&&i.stop()}),i.$on("$destroy",function(){i.stop(),i.spinner=null})}}}])}"function"==typeof define&&define.amd?define(["angular","spin"],t):t(n.angular)}(window),function(){angular.module("ngLoadingSpinner",["angularSpinner"]).directive("usSpinner",["$http","$rootScope",function(n,t){return{link:function(e,i,o){t.spinnerActive=!1,e.isLoading=function(){return n.pendingRequests.length>0},e.$watch(e.isLoading,function(n){t.spinnerActive=n,n?i.removeClass("ng-hide"):i.addClass("ng-hide")})}}}])}.call(this);
//# sourceMappingURL=maps/angular-spin-bundle.min.js.map